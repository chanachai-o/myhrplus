<div class="home-container">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <div class="welcome-content">
      <h1 class="welcome-title thai-text">
        {{ getGreeting() }}, {{ currentUser?.fullname || currentUser?.name || 'ผู้ใช้งาน' }}!
      </h1>
      <p class="welcome-subtitle thai-text">
        ยินดีต้อนรับสู่ระบบ HR Management
      </p>
      <div class="user-info" *ngIf="currentUser">
        <div class="info-item">
          <mat-icon>badge</mat-icon>
          <span class="thai-text">รหัสพนักงาน: {{ currentUser.employeeid || currentUser.uid }}</span>
        </div>
        <div class="info-item" *ngIf="currentUser['emp_position']">
          <mat-icon>work</mat-icon>
          <span class="thai-text">ตำแหน่ง: {{ currentUser['emp_position'] }}</span>
        </div>
        <div class="info-item" *ngIf="currentUser['workarea']">
          <mat-icon>business</mat-icon>
          <span class="thai-text">แผนก: {{ currentUser['workarea'] }}</span>
        </div>
      </div>
    </div>
    <div class="welcome-decoration">
      <div class="decoration-circle circle-1"></div>
      <div class="decoration-circle circle-2"></div>
      <div class="decoration-circle circle-3"></div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p class="thai-text">กำลังโหลดเมนู...</p>
  </div>

  <!-- Menu Categories -->
  <div *ngIf="!loading && menuCategories.length > 0" class="menu-categories-section">
    <h2 class="section-title thai-text">เลือกเมนูที่ต้องการใช้งาน</h2>

    <div class="categories-grid">
      <div
        *ngFor="let category of menuCategories"
        class="category-card"
        [style.background]="getGradientForCategory(category.code)"
        [@fadeInUp]>
        <div class="category-card-content" (click)="navigateToCategory(category)" [attr.aria-label]="category.thaiTitle">
          <div class="category-header">
            <div class="category-icon">
              <mat-icon>{{ category.icon }}</mat-icon>
            </div>
            <div class="category-title-section">
              <h3 class="category-title thai-text">{{ category.thaiTitle }}</h3>
              <p class="category-subtitle">{{ category.englishTitle }}</p>
            </div>
          </div>

          <div class="category-footer">
            <div class="category-description thai-text">
              คลิกเพื่อเข้าสู่ระบบ EMPVIEW
            </div>
            <div class="category-arrow">
              <mat-icon>arrow_forward</mat-icon>
            </div>
          </div>
        </div>
        <div class="category-card-overlay"></div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && menuCategories.length === 0" class="empty-state">
    <mat-icon class="empty-icon">folder_open</mat-icon>
    <h3 class="thai-text">ไม่มีเมนูที่สามารถเข้าถึงได้</h3>
    <p class="thai-text">กรุณาติดต่อผู้ดูแลระบบเพื่อขอสิทธิ์การเข้าถึง</p>
  </div>
</div>
