<div class="card">
    <div class="card-header bg-myhr">
        <h4>{{"menu.rec-applicant (Myjob)" | translate}}</h4>
    </div>
    <div class="card-body">
        <div class="row mb-2">
            <div class="col-6 col-sm-6 col-md-6 col-lg-6 text-start">
                <div class="col-12 col-sm-12 col-md-6 col-lg-6">
                    <input type="text" class="form-control " placeholder="{{'systemcode.search.name' |  translate}}"
                        [(ngModel)]="searchTerm" (ngModelChange)="filterName();">
                </div>
            </div>
            <div class="col-6 col-sm-6 col-md-6 col-lg-6 text-end">
                <div class="ms-auto">
                    <span class="badge badge-light rounded-pill " style="width: 130px;padding: 4px;">
                        <p class="mb-0 me-1 text-dark font-weight-bold font-14"> {{'all'| translate}} <span
                                class="badge badge-danger rounded-pill px-3 font-weight-bold font-14">{{dataShow.length?candidateList.length:0}}</span>
                        </p>
                    </span>
                </div>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle ">
                <thead class="bg-info ">
                    <tr class="text-white font-weight-normal">
                        <th class="font-weight-normal" scope="col">{{"Name-Surname"| translate}}</th>
                        <th class="font-weight-normal" scope="col">{{"Announcement ID"| translate}}</th>
                        <th class="font-weight-normal" scope="col">{{"Email"| translate}}</th>
                        <th class="font-weight-normal" scope="col">{{"Job Title"| translate}}</th>
                        <th class="font-weight-normal" scope="col">{{"Company"| translate}}</th>
                        <th class="font-weight-normal" scope="col"></th>
                    </tr>
                </thead>
                <tbody *ngIf="loading">
                    <tr>
                        <td colspan="7" class="font-weight-normal text-center">
                            <div class="justify-content-center text-center" role="status">
                                <div class="spinner-grow text-info" role="status" style="margin: 5px;">
                                    <span class="sr-only">Loading...</span>
                                </div>
                                <div class="spinner-grow text-info" role="status" style="margin: 5px;">
                                    <span class="sr-only">Loading...</span>
                                </div>
                                <div class="spinner-grow text-info" role="status" style="margin: 5px;">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <tbody *ngIf="!loading">
                    <tr
                        *ngFor="let item of dataShow | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize ;let i = index">

                        <td class="align-middle" width="200">
                            <div class="d-flex align-items-center">
                                <!-- <img class="rounded-circle" src="{{item.getPictureUrl()}}" height=" 50px" width="50px"> -->
                                <img *ngIf="item?.profile.picture ;else blankImage" src="{{item.profile.getPicture()}}"
                                    alt="users" class="rounded-circle" width="50" height="50"
                                    style="object-fit: cover;">
                                <ng-template #blankImage>
                                    <img src="assets/images/users/defaultperson.jpg" alt="" class="rounded-circle"
                                        width="50" height="50">
                                </ng-template>
                                <div class="ms-3">
                                    <a class="link-myhr link-hover">
                                        <p class="font-medium mb-0">{{item.profile.getFullname()}}</p>
                                        <small>{{item.employeeId}}</small>
                                    </a>
                                </div>
                            </div>
                        </td>
                        <td class="align-middle">{{item.jobPost?.announcementId}}</td>
                        <!-- <!-- <td class="align-middle">{{item.position?item.position.getPositionDesc():"-"}}</td> -->
                        <td class="align-middle">{{item.profile.email}}</td>
                        <td class="align-middle">{{item.jobPost?.jobTitle}}</td>
                        <td class="align-middle">{{item.jobPost?.companyAffiliated.companyThName}}</td>
                        <td class="align-middle"> <button type="button" class="btn btn-success  text-white"
                                (click)="selectEmp(item);">
                                {{"choose" | translate}}
                            </button></td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="d-flex justify-content-end p-2">

            <select class="form-select m-r-5" style="width: auto" [(ngModel)]="pageSize" (ngModelChange)="page=1">
                <option [ngValue]="10">{{"Items per page"| translate}}: 10</option>
                <option [ngValue]="50">{{"Items per page"| translate}}: 50</option>
                <option [ngValue]="100">{{"Items per page"| translate}}: 100</option>
            </select>
            <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize" [maxSize]="3"
                [rotate]="true">
                <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
                <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>


        </div>



    </div>
</div>
