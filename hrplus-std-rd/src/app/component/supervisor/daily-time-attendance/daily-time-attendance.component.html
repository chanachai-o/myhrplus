<div class="card">
  <div class="card-header bg-myhr">
    <h4>{{"time.current.of.employee" | translate}}</h4>
  </div>
  <div class="card-body">
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center;margin-top: 5px;">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"emp"| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group" style="margin-top: 5px;">
        <input type="text" class="form-control border-color-gray" placeholder="{{'Employee ID'| translate}}"
          [(ngModel)]="dataSelected.employeeSubordinates[0].id"
          (ngModelChange)="selectData('employeeSubordinates',undefined,0)"
          [ngClass]="{'border-color-red':dataSelected.employeeSubordinates[0].id&&!dataSelected.employeeSubordinates[0].detail.getFullName().split(' ').join('')}">
        <div class="input-group-append">
          <button class="btn me-0 btn-info" type="button"
            (click)="openModal(modalDataEmployeeSelect,'employeeSubordinates',0)">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group" style="margin-top: 5px;">
        <input readonly type="text" class="form-control border-color-gray-full"
          placeholder="{{'Employee Name'| translate}}"
          value="{{dataSelected.employeeSubordinates[0].detail.getFullName().split(' ').join('')?dataSelected.employeeSubordinates[0].detail.getFullName():''}}"
          [ngClass]="{'border-color-red-full':dataSelected.employeeSubordinates[0].id&&!dataSelected.employeeSubordinates[0].detail.getFullName().split(' ').join('')}">
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center;margin-top: 5px;">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"to2"| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group" style="margin-top: 5px;">
        <input type="text" class="form-control border-color-gray" placeholder="{{'Employee ID'| translate}}"
          [(ngModel)]="dataSelected.employeeSubordinates[1].id"
          (ngModelChange)="selectData('employeeSubordinates',undefined,1)"
          [ngClass]="{'border-color-red':dataSelected.employeeSubordinates[1].id&&!dataSelected.employeeSubordinates[1].detail.getFullName().split(' ').join('')}">
        <div class="input-group-append">
          <button class="btn me-0 btn-info" type="button"
            (click)="openModal(modalDataEmployeeSelect,'employeeSubordinates',1)">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group" style="margin-top: 5px;">
        <input readonly type="text" class="form-control border-color-gray-full"
          placeholder="{{'Employee Name'| translate}}"
          value="{{dataSelected.employeeSubordinates[1].detail.getFullName().split(' ').join('')?dataSelected.employeeSubordinates[1].detail.getFullName():''}}"
          [ngClass]="{'border-color-red-full':dataSelected.employeeSubordinates[1].id&&!dataSelected.employeeSubordinates[1].detail.getFullName().split(' ').join('')}">
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"Subordinate Group2"| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <input type="text" class="form-control border-color-gray" placeholder="{{'Subordinate Group ID'| translate}}"
          [(ngModel)]="dataSelected.subordinate.id" (ngModelChange)="selectData('subordinate')"
          [ngClass]="{'border-color-red':dataSelected.subordinate.id&&!dataSelected.subordinate.detail.getDesc()}">
        <div class="input-group-append">
          <button class="btn me-0 btn-info" type="button" (click)="openModal(modalDataSelect,'subordinate')">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <input readonly type="text" class="form-control border-color-gray-full"
          placeholder="{{'Subordinate Group Name'| translate}}" value="{{dataSelected.subordinate.detail.getDesc()}}"
          [ngClass]="{'border-color-red-full':dataSelected.subordinate.id&&!dataSelected.subordinate.detail.getDesc()}">
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"Salary Type"| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <input type="text" class="form-control border-color-gray" placeholder="{{'Salary Type ID'| translate}}"
          [(ngModel)]="dataSelected.salatype.id" (ngModelChange)="selectData('salatype')"
          [ngClass]="{'border-color-red':dataSelected.salatype.id&&!dataSelected.salatype.detail.getDesc()}">
        <div class="input-group-append">
          <button class="btn me-0 btn-info" type="button" (click)="openModal(modalDataSelect,'salatype')">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <input readonly type="text" class="form-control border-color-gray-full"
          placeholder="{{'Salary Type Name'| translate}}" value="{{dataSelected.salatype.detail.getDesc()}}"
          [ngClass]="{'border-color-red-full':dataSelected.salatype.id&&!dataSelected.salatype.detail.getDesc()}">
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"Period Date"| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <div class="input-group">
          <input class="form-control border-color-gray" placeholder="{{'dd.mm.yyyy' | translate}}" name="dp1"
            [(ngModel)]="dataSelected.date.start" ngbDatepicker #d1="ngbDatepicker" [maxDate]="dataSelected.date.end"
            [ngClass]="{'border-color-red':!checkDateFormat(dataSelected.date.start)&&checkDateFormat(dataSelected.date.end)}"
            #c1="ngModel" 
            (change)="dataSelected.date.start = datepickerService.validateFormatDateNull(c1)">
          <div class="input-group-append">
            <button class="btn btn-outline-info no-shadow" (click)="d1.toggle()" type="button">
              <i class="far fa-calendar-alt"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <div class="input-group">
          <input class="form-control border-color-gray" placeholder="{{'dd.mm.yyyy' | translate}}" name="dp2"
            [(ngModel)]="dataSelected.date.end" ngbDatepicker #d2="ngbDatepicker" [minDate]="dataSelected.date.start"
            [ngClass]="{'border-color-red':checkDateFormat(dataSelected.date.start)&&!checkDateFormat(dataSelected.date.end)}"
            [minDate]="dataSelected.date.start" #c2="ngModel"
            (change)="dataSelected.date.end = datepickerService.validateFormatDateNull(c2)">
          <div class="input-group-append">
            <button class="btn btn-outline-info no-shadow" (click)="d2.toggle()" type="button">
              <i class="far fa-calendar-alt"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"Order By"| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <div class="input-group">
          <select class="form-select border-color-gray-full" [(ngModel)]="dataSelected.orderBy"
            (ngModelChange)="sortData()">
            <option *ngFor="let item of dataList.orderBy" [ngValue]="item">
              {{getDesc(item.tdesc,item.edesc)}}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
        <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
          {{"Split shift "| translate}}
        </label>
      </div>
      <div class="form-group col-md-3 col-5 col-sm-5 input-group">
        <div class="form-group col-md-3 col-5 col-sm-5 m-t-10" style="text-align: center">
          <div class="input-group">
            <input type="checkbox" [(ngModel)]="dataSelected.splitShift">
          </div>
        </div>
      </div>
    </div>
    <div class="row g-2 align-middle">
      <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
        <button type="submit" class="btn btn-info waves-effect waves-light" (click)="searchDailyWorkSubordinates()">
          {{"systemcode.search" | translate}}
        </button>
      </div>
    </div>
    <div class="justify-content-center text-center" role="status" *ngIf="loadingSubmit">
      <div *ngFor="let item of [1,2,3]" class="spinner-grow text-info" role="status" style="margin: 5px">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <div class="row g-2 align-middle" *ngIf="!loadingSubmit">
      <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
        <button type="submit" class="btn btn-group-first btn-yellow waves-light"
          (click)="openModal(modalSetShift,'modalSetShift')">
          {{"Set Shift daily" | translate}}
        </button>
        <button type="submit" class="btn btn-group btn-blue waves-light"
          (click)="openModal(modalSetWorkOff,'modalSetWorkOff')">
          {{"Set Work/Off daily" | translate }}
        </button>
        <button type="submit" class="btn btn-group btn-blue waves-light"
          (click)="openModal(modalPostLeave,'modalPostLeave')">
          {{"Post Leave daily" | translate }}
        </button>
        <button type="submit" class="btn btn-group btn-blue waves-light"
          (click)="openModal(modalSetPunch,'modalSetPunch')">
          {{"Set Punch daily" | translate }}
        </button>
        <button type="submit" class="btn btn-group btn-blue waves-light" (click)="openModal(modalSetOT,'modalSetOT')">
          {{"Set OT daily" | translate }}
        </button>
        <button type="submit" class="btn btn-group btn-blue waves-light" (click)="openModal(modalSetOT,'modalSetCOT')">
          {{"Set C-OT daily" | translate }}
        </button>
        <button type="submit" class="btn btn-group btn-blue-fullborder waves-light"
          (click)="openModal(modalCOff,'modalCOff')">
          {{"Set C-OFF daily" | translate }}
        </button>
        <button type="submit" class="m-l-5 btn btn-green waves-light" (click)="submit('process')">
          {{"Process daily" | translate }}
        </button>
      </div>
    </div>
    <div class="table-responsive">
      <div class="wrapper">
        <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle ">
          <thead class="bg-info ">
            <tr class="text-white font-weight-normal">
              <th class="font-weight-normal width-table text-center" scope="col">{{"No." | translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Emp. ID"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Name"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Date"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">
                <input type="checkbox" (click)="selectCheckBoxAll('dailyWorkEmployee',$event.target.checked)"
                  [disabled]="(dataList.dailyWorkEmployee.load.loading==false&&dataList.dailyWorkEmployee.load.page!=0)||dataList.dailyWorkEmployee.list.length==0">
              </th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"systemcode.status"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Shift"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Shift In"| translate}}</th>
              <th *ngIf="dataSelected.splitShift" class="font-weight-normal width-table text-center" scope="col">
                {{"Shift L-Out"| translate}}
              </th>
              <th *ngIf="dataSelected.splitShift" class="font-weight-normal width-table text-center" scope="col">
                {{"Shift L-In"| translate}}
              </th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Shift Out"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Punch In"| translate}}</th>
              <th *ngIf="dataSelected.splitShift" class="font-weight-normal width-table text-center" scope="col">
                {{"Punch L-Out"| translate}}
              </th>
              <th *ngIf="dataSelected.splitShift" class="font-weight-normal width-table text-center" scope="col">
                {{"Punch L-In"| translate}}
              </th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Punch Out"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Late/Early"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Leave"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Absent"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"Hours"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"OT"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"C-OT"| translate}}</th>
              <th class="font-weight-normal width-table text-center" scope="col">{{"C-OFF"| translate}}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="dataList.dailyWorkEmployee.load.loading">
              <td colspan="22" class="font-weight-normal text-center">
                <div *ngFor="let item of [1,2,3]" class="spinner-grow text-info" role="status" style="margin: 5px">
                  <span class="sr-only">Loading...</span>
                </div>
              </td>
            </tr>
            <tr
              *ngIf="!dataList.dailyWorkEmployee.load.loading&&dataList.dailyWorkEmployee.list.length==0&&!firstSearch">
              <td colspan="22" class="font-weight-normal text-center">
                {{"No Data Found" | translate}}
              </td>
            </tr>
            <tr
              *ngFor="let item of dataList.dailyWorkEmployee.list | slice: (pageTable.page-1) * pageTable.pageSize : (pageTable.page-1) * pageTable.pageSize + pageTable.pageSize; let i=index">
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{(i+1)+((pageTable.page-1) * pageTable.pageSize)}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.employeeid}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.employee.getFullName()}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="openModalFullDetailDaily(modalFullDetailDaily,'modalFullDetailDaily',item.detail)"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.dateid | date:'dd-MM-yyyy'}}
                {{translateService.currentLang=='th'?(item.detail.dateid | thaidate: 'shortDay'):(item.detail.dateid |
                date:'E')}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                <input type="checkbox" [(ngModel)]="item.select"
                  [disabled]="dataList.dailyWorkEmployee.load.loading==false&&dataList.dailyWorkEmployee.load.page!=0">
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetWorkOff,'modalSetWorkOff')"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.eventgrp.getDesc()}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetShift,'modalSetShift')"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.time0id}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.sh_tm_bg|number:'2.2-2'}}
              </td>
              <td class="text-center" *ngIf="dataSelected.splitShift"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.tm_breakin|number:'2.2-2'}}
              </td>
              <td class="text-center" *ngIf="dataSelected.splitShift"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.tm_breakout|number:'2.2-2'}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.sh_tm_en|number:'2.2-2'}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetPunch,'modalSetPunch')"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{calculateTime('punch_in',item.detail)}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetPunch,'modalSetPunch')"
                *ngIf="dataSelected.splitShift"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{(item.detail.forget_in == '0' || item.detail.source_out=='5' || item.detail.source_out=='6' ||
                item.detail.source_out=='7')?
                (item.detail.tm_breakin|number:'2.2-2'):((item.detail.docType=='A')?
                (item.detail.tm_breakin|number:'2.2-2'):'-')}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetPunch,'modalSetPunch')"
                *ngIf="dataSelected.splitShift"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{(item.detail.forget_out == '0' || item.detail.source_in=='5' || item.detail.source_in=='6' ||
                item.detail.source_in=='7' )?
                (item.detail.tm_breakout|number:'2.2-2'):((item.detail.docType=='A')?
                (item.detail.tm_breakout|number:'2.2-2'):'-')}}
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetPunch,'modalSetPunch')"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{calculateTime('punch_out',item.detail)}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.lt|number:'2.2-2'}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{(item.detail.docType=='A')?(item.detail.m_lv|number:'2.2-2'):("00.00")}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.eventgrp.eventgrpid=='J'?(item.detail.m_lv|number:'2.2-2'):("00.00")}}
              </td>
              <td class="text-center"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.hour_d|number:'2.2-2'}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetOT,'modalSetOT')"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.unused1>0?('00.00'):(item.detail.ac_ot|number:'2.2-2')}}
              </td>
              <td class="text-center cursor-myhr text-underline-hover-purple"
                (click)="selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize));openModal(modalSetOT,'modalSetCOT')"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.unused1|number:'2.2-2'}}
              </td>
              <td class="text-center"
                (click)="item.detail.eventgrp.eventgrpid=='H'?selectDailyWorkEmployee(i+((pageTable.page-1) * pageTable.pageSize)):'';item.detail.eventgrp.eventgrpid=='H'?openModal(modalCOff,'modalCOff'):''"
                [ngClass]="{'text-info':item.detail.eventgrp.eventgrpid!='H'&&item.detail.eventgrp.eventgrpid!='J'&&item.detail.eventgrp.eventgrpid!='I', 'text-warning cursor-myhr text-underline-hover-purple':item.detail.eventgrp.eventgrpid=='H','text-danger': item.detail.eventgrp.eventgrpid=='J','text-pink':item.detail.eventgrp.eventgrpid=='I'}">
                {{item.detail.unused2|number:'2.2-2'}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="d-flex justify-content-end p-2">
      <select class="form-select m-r-5 border-color-gray-full-focus" style="width: auto"
        [(ngModel)]="pageTable.pageSize" (ngModelChange)="pageTable.page=1">
        <option *ngFor="let item of [10,50,100]" [ngValue]="item">
          {{"Items per page"| translate}}: {{item}}
        </option>
      </select>
      <ngb-pagination [collectionSize]="pageTable.collectionSize" [(page)]="pageTable.page"
        [pageSize]="pageTable.pageSize" [maxSize]="3" [rotate]="true">
        <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
        <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
      </ngb-pagination>
    </div>
  </div>
</div>

<ng-template #modalFullDetailDaily let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h4>{{"Full Detail, Daily Attendance" | translate}}</h4>
        </div>
        <div class="card-body">
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"emp"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-9 col-7 col-sm-7">
              <label class="font-weight-bold control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].employeeid}}
                {{dataSelected.dailyWorkEmployee[0].employee.prefix.getDesc()}}{{dataSelected.dailyWorkEmployee[0].employee.getFullName()}},{{dataSelected.dailyWorkEmployee[0].employee.position.getDesc()}},{{dataSelected.dailyWorkEmployee[0].employee.bu2.getDesc()}},{{dataSelected.dailyWorkEmployee[0].employee.bu1.getDesc()}},{{dataSelected.dailyWorkEmployee[0].employee.branch.getDesc()}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Attendance Type"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold control-label col-form-label" style="font-size: 14px;">
                {{'FIX_TIME'+(dataSelected.dailyWorkEmployee[0].time0?dataSelected.dailyWorkEmployee[0].time0.stickTm:'')|
                translate}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Working hour"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].hour_d|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Attendance Status"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].eventgrp.getDesc()}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT Type"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{"ot_type"+dataSelected.dailyWorkEmployee[0].ot_type | translate}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Not Punch In"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].forget_in}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT1"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].ot1|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Not Punch Out"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].forget_out}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT1.5"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].ot5|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Late"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].lt|number:'1.2-2'}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT2"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].ot2|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Early Departure"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].warn05}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT3"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].ot3|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Punch on Day Off"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].warn11}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT Before"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].ot_before|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Leave Flag"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].lvTy?dataSelected.dailyWorkEmployee[0].lvTy.getDesc():''}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT Work"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{((dataSelected.dailyWorkEmployee[0].ac_ot-dataSelected.dailyWorkEmployee[0].ot_before)-dataSelected.dailyWorkEmployee[0].ot_after)>0?(dataSelected.dailyWorkEmployee[0].ac_ot|number:'1.2-2'):'0.00'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Leave Type"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{'LEAVE_FORMAT'+dataSelected.dailyWorkEmployee[0].leaveFormat | translate}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT After"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].ot_after|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Start Time"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].c_tm_bg|number:'1.2-2'}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"OT Total2"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].unused1>0?'0.00':(dataSelected.dailyWorkEmployee[0].ac_ot|number:'1.2-2')}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"End Time"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].c_tm_en|number:'1.2-2'}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Compensate OT"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].unused1|number:'1.2-2'}}
              </label>
            </div>
          </div>
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Leave hour"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].m_lv|number:'1.2-2'}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: right">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Compensate Day Off"| translate}} :
              </label>
            </div>
            <div class="form-group col-md-3 col-7 col-sm-7">
              <label class="font-weight-bold  control-label col-form-label" style="font-size: 14px;">
                {{dataSelected.dailyWorkEmployee[0].unused2|number:'1.2-2'}}
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.dismiss('Cross click')">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalDataEmployeeSelect let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{modalDetail.text.cardHead | translate}}</h5>
        </div>
        <div class="card-body pb-0 pt-1">
          <div class="d-flex mb-1">
            <input type="text"
              placeholder="{{'systemcode.search' | translate}} {{modalDetail.text.search[0]| translate}}"
              class=" form-control w-75 border-color-gray-full-focus" [(ngModel)]='modalDetail.search'
              (ngModelChange)='searchDataModal(modalDetail.modalName)'>
          </div>
          <div class="table-responsive">
            <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle ">
              <thead class="bg-info ">
                <tr class="text-white font-weight-normal">
                  <th class="font-weight-normal" scope="col" *ngFor="let item of modalDetail.text.tableHead">
                    {{item| translate}}
                  </th>
                </tr>
              </thead>
              <tbody class="cursor-myhr">
                <tr *ngIf="checkLoadingModal(modalDetail.modalName)">
                  <td colspan="9" class="font-weight-normal text-center">
                    <div *ngFor="let item of [1,2,3]" class="spinner-grow text-info" role="status" style="margin: 5px">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="!checkLoadingModal(modalDetail.modalName)&&modalDetail.page.collectionSize == 0">
                  <td colspan="9" class="font-weight-normal text-center">{{"No Data Found" | translate}}</td>
                </tr>
                <tr class="cursor-myhr"
                  *ngFor="let items of modalDetail.data | slice: (modalDetail.page.page-1) * modalDetail.page.pageSize : (modalDetail.page.page-1) * modalDetail.page.pageSize + modalDetail.page.pageSize; let i=index"
                  (click)="selectData(modalDetail.modalName,items.list);modal.dismiss()">
                  <th class="align-middle text-center" scope="row" *ngFor="let item of items.show | slice:0:1">
                    {{item}}
                  </th>
                  <td class="align-middle" *ngFor="let item of items.show | slice:1:items.show.length">
                    {{item}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end p-2">
            <select class="form-select m-r-5 border-color-gray-full-focus" style="width: auto"
              [(ngModel)]="modalDetail.page.pageSize" (ngModelChange)="modalDetail.page.page=1">
              <option *ngFor="let item of [10,50,100]" [ngValue]="item">
                {{"Items per page"| translate}}: {{item}}
              </option>
            </select>
            <ngb-pagination [collectionSize]="modalDetail.page.collectionSize" [(page)]="modalDetail.page.page"
              [pageSize]="modalDetail.page.pageSize" [maxSize]="3" [rotate]="true">
              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalDataSelect let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{modalDetail.text.cardHead | translate}}</h5>
        </div>
        <div class="card-body pb-0 pt-1">
          <div class="d-flex mb-1">
            <input type="text"
              placeholder="{{'systemcode.search' | translate}} {{modalDetail.text.search[0]| translate}} / {{modalDetail.text.search[1] | translate}}"
              class="form-control w-50 border-color-gray-full-focus" [(ngModel)]='modalDetail.search'
              (ngModelChange)='searchDataModal(modalDetail.modalName)'>
          </div>
          <div class="table-responsive">
            <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle ">
              <thead class="bg-info ">
                <tr class="text-white font-weight-normal">
                  <th class="font-weight-normal text-center" scope="col"
                    *ngFor="let item of modalDetail.text.tableHead">
                    {{item| translate}}
                  </th>
                </tr>
              </thead>
              <tbody class="cursor-myhr">
                <tr *ngIf="checkLoadingModal(modalDetail.modalName)">
                  <td colspan="9" class="font-weight-normal text-center">
                    <div *ngFor="let item of [1,2,3]" class="spinner-grow text-info" role="status" style="margin: 5px">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="!checkLoadingModal(modalDetail.modalName)&&modalDetail.page.collectionSize == 0">
                  <td colspan="9" class="font-weight-normal text-center">{{"No Data Found" | translate}}</td>
                </tr>
                <tr class="cursor-myhr"
                  *ngFor="let items of modalDetail.data | slice: (modalDetail.page.page-1) * modalDetail.page.pageSize : (modalDetail.page.page-1) * modalDetail.page.pageSize + modalDetail.page.pageSize; let i=index"
                  (click)="selectData(modalDetail.modalName,items.list);modal.dismiss()">
                  <td class=" font-weight-normal text-center" *ngFor="let item of items.show">
                    {{item}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end p-2">
            <select class="form-select m-r-5 border-color-gray-full-focus" style="width: auto"
              [(ngModel)]="modalDetail.page.pageSize" (ngModelChange)="modalDetail.page.page=1">
              <option *ngFor="let item of [10,50,100]" [ngValue]="item">
                {{"Items per page"| translate}}: {{item}}
              </option>
            </select>
            <ngb-pagination [collectionSize]="modalDetail.page.collectionSize" [(page)]="modalDetail.page.page"
              [pageSize]="modalDetail.page.pageSize" [maxSize]="3" [rotate]="true">
              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalSetShift let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{"Set Shift" | translate}}</h5>
        </div>
        <div class="card-body ">
          <div class="row g-2 align-middle ">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Shift"| translate}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5 input-group">
              <input type="text" class="form-control border-color-gray" placeholder="{{'Shift ID'| translate}}"
                [(ngModel)]="dataSelected.time0.id" (ngModelChange)="selectData('time0')"
                [ngClass]="{'border-color-red':dataSelected.time0.id&&!dataSelected.time0.detail.getDesc()}">
              <div class="input-group-append">
                <button class="btn me-0 btn-info" type="button" (click)="openModal(modalDataSelect,'time0')">
                  <i class="fa fa-search"></i>
                </button>
              </div>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5 input-group">
              <input readonly type="text" class="form-control border-color-gray-full"
                placeholder="{{'Shift Name'| translate}}" value="{{dataSelected.time0.detail.getDesc()}}"
                [ngClass]="{'border-color-red-full':dataSelected.time0.id&&!dataSelected.time0.detail.getDesc()}">
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
              <button type="submit" class="btn btn-info waves-effect waves-light "
                (click)="submit('setShift')?modal.dismiss():''">
                {{"confirm" | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalSetWorkOff let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{"Set Status" | translate}}</h5>
        </div>
        <div class="card-body">
          <div class="row g-2 align-middle justify-content-md-center">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Set Status Status"| translate}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5">
              <select class="form-select border-color-gray-full" [(ngModel)]="dataSelected.dateType">
                <option *ngFor="let item of dataList.dateType" [ngValue]="item">
                  {{getDesc(item.tdesc,item.edesc)}}
                </option>
              </select>
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
              <button type="submit" class="btn btn-info waves-effect waves-light "
                (click)="submit('setWorkOff')?modal.dismiss():''">
                {{"confirm" | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalPostLeave let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{"Post Leave" | translate}}</h5>
        </div>
        <div class="card-body">
          <div class="row g-2 align-middle">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Leave Type"| translate}}
              </label>
            </div>
            <div class="form-group col-md-3 col-5 col-sm-5">
              <select class="form-select border-color-gray-full" [(ngModel)]="dataSelected.eventgrpLeave">
                <option *ngFor="let item of dataList.eventgrpLeave.list" [ngValue]="item">
                  {{item.getDesc()}}
                </option>
              </select>
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Posting Type"| translate}}
              </label>
            </div>
            <div class="form-group col-md-9 col-7 col-sm-7 m-t-10">
              <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" class="custom-control-input" id="postingType1" name="postingType" value="0"
                  [(ngModel)]="dataSelected.postingType">
                <label class="custom-control-label" for="postingType1">{{"Full Day" | translate }}</label>
              </div>
              <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" class="custom-control-input" id="postingType2" name="postingType" value="2"
                  [(ngModel)]="dataSelected.postingType">
                <label class="custom-control-label" for="postingType2">{{"First Half" | translate}}</label>
              </div>
              <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" class="custom-control-input" id="postingType3" name="postingType" value="3"
                  [(ngModel)]="dataSelected.postingType">
                <label class="custom-control-label" for="postingType3">{{"Second Half" | translate}}</label>
              </div>
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Reason"| translate}}
              </label>
            </div>
            <div class="form-group col-md-9 col-7 col-sm-7" style="text-align: center">
              <textarea class="form-control border-color-gray-full" rows="2" style="resize: none;"
                [(ngModel)]="dataSelected.reason"></textarea>
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
              <button type="submit" class="btn btn-info waves-effect waves-light "
                (click)="submit('postLeave')?modal.dismiss():''">
                {{"confirm" | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalSetPunch let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{"Set Punch" | translate}}</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive" [ngClass]="{'overflow-x-clip':ngbinput?ngbinput.isOpen():false}">
            <table class="table  table-striped-myhr   table-sm  mb-0 no-wrap v-middle">
              <thead class="bg-info ">
                <tr class="text-white font-weight-normal">
                  <th class="font-weight-normal text-center" scope="col">
                    <input type="checkbox" (click)="selectCheckBoxAll('setPunch',$event.target.checked)">
                  </th>
                  <th class="font-weight-normal text-center" scope="col">{{"No."| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Employee ID" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Name-Surname" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"date" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"time" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Flag"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Remark"| translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let item of dataSelected.setPunch| slice: (pageModalTable.page-1) * pageModalTable.pageSize : (pageModalTable.page-1) * pageModalTable.pageSize + pageModalTable.pageSize ; let i=index">
                  <td class="font-weight-normal text-center">
                    <input type="checkbox" [(ngModel)]="item.select">
                  </td>
                  <td class="font-weight-normal text-center">
                    {{((pageModalTable.page-1) * pageModalTable.pageSize)+(i+1)}}
                  </td>
                  <td class="font-weight-normal text-center">
                    {{item.list.employeeid}}
                  </td>
                  <td class="font-weight-normal text-center">
                    {{item.list.employee.prefix.getDesc()}}{{item.list.employee.getFullName()}}
                  </td>
                  <td class="font-weight-normal text-center" style="width: 140px;">
                    <div class="input-group" style="width: 140px;">
                      <input oninput="value = value.replace(/[^0-9/]/g, '').replace(/(\..*?)\..*/g, '$1');"
                        class="form-control border-color-gray" placeholder="{{'dd.mm.yyyy' | translate}}"
                        [(ngModel)]="item.date" ngbDatepicker #d="ngbDatepicker"
                        [ngClass]="{'border-color-red':!checkDateFormat(item.date)}">
                      <div class="input-group-append">
                        <button class="btn btn-date-blue no-shadow" (click)="d.toggle();checkTableResponsive(d)"
                          type="button">
                          <i class="far fa-calendar-alt"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class="font-weight-normal text-center" style="width: 140px;">
                    <input type="time" class="form-control border-color-gray-full" [(ngModel)]="item.timeShift">
                  </td>
                  <td class="font-weight-normal text-center" style="width: 140px;">
                    <select class="form-select border-color-gray-full" style="width: 140px;"
                      [(ngModel)]="item.flagType">
                      <option *ngFor="let item of dataList.flagType" [ngValue]="item">
                        {{getDesc(item.tdesc,item.edesc)}}
                      </option>
                    </select>
                  </td>
                  <td class="font-weight-normal text-center">
                    <div class="input-group">
                      <input type="text" class="form-control border-color-gray" placeholder="{{'Remark'| translate}}"
                        [(ngModel)]="item.reason.name"
                        (ngModelChange)="selectData('reason',undefined,((pageModalTable.page-1) * pageModalTable.pageSize)+i)">
                      <div class="input-group-append">
                        <button class="btn me-0 btn-info" type="button"
                          (click)="openModal(modalDataSelect,'reason',((pageModalTable.page-1) * pageModalTable.pageSize)+i)">
                          <i class="fa fa-search"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end p-2">
            <select class="form-select m-r-5 border-color-gray-full-focus" style="width: auto"
              [(ngModel)]="pageModalTable.pageSize" (ngModelChange)="pageModalTable.page=1">
              <option *ngFor="let item of [10,50,100]" [ngValue]="item">
                {{"Items per page"| translate}}: {{item}}
              </option>
            </select>
            <ngb-pagination [collectionSize]="pageModalTable.collectionSize" [(page)]="pageModalTable.page"
              [pageSize]="pageModalTable.pageSize" [maxSize]="3" [rotate]="true">
              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>
          </div>
          <div class="row g-2 align-middle m-t-5">
            <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
              <button type="submit" class="btn btn-info waves-effect waves-light "
                (click)="submit('setPunch')?modal.dismiss():''">
                {{"confirm" | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.dismiss()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalSetOT let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{"Set OT" | translate}}</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive" [ngClass]="{'overflow-x-clip':ngbinput?ngbinput.isOpen():false}">
            <table class="table  table-striped-myhr table-sm  mb-0 no-wrap v-middle">
              <thead class="bg-info ">
                <tr class="text-white font-weight-normal">
                  <th class="font-weight-normal text-center" scope="col">
                    <input type="checkbox" (click)="selectCheckBoxAll('setOT',$event.target.checked)">
                  </th>
                  <th class="font-weight-normal text-center" scope="col">{{"No."| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Employee ID" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Name-Surname" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Start Date" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"End Date" | translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Start Time"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"End Time"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Total Time"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Reason"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"OT Working Area"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Cost Center"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"OT Type2"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Shift for OT"| translate}}</th>
                  <th class="font-weight-normal text-center" scope="col">{{"Remark"| translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let item of dataSelected.setOT| slice: (pageModalTable.page-1) * pageModalTable.pageSize : (pageModalTable.page-1) * pageModalTable.pageSize + pageModalTable.pageSize ; let i=index">
                  <td class="font-weight-normal text-center"><input type="checkbox" [(ngModel)]="item.select"></td>
                  <td class="font-weight-normal text-center">
                    {{((pageModalTable.page-1) * pageModalTable.pageSize)+(i+1)}}
                  </td>
                  <td class="font-weight-normal text-center">{{item.list.employeeid}}</td>
                  <td class="font-weight-normal text-center">
                    {{item.list.employee.prefix.getDesc()}}{{item.list.employee.getFullName()}}
                  </td>
                  <td class="font-weight-normal text-center">
                    <div class="input-group" style="width: 140px;">
                      <input oninput="value = value.replace(/[^0-9/]/g, '').replace(/(\..*?)\..*/g, '$1');"
                        class="form-control border-color-gray" placeholder="{{'dd.mm.yyyy' | translate}}"
                        [(ngModel)]="item.date.start" ngbDatepicker #d3="ngbDatepicker" [maxDate]="item.date.end"
                        [ngClass]="{'border-color-red':(item.select&&!checkDateFormat(item.date.start))||(item.select&&!checkDateOt(i+((pageModalTable.page-1) * pageModalTable.pageSize))&&checkDateFormat(item.date.end))}">
                      <div class="input-group-append">
                        <button class="btn btn-date-blue no-shadow" (click)="d3.toggle();checkTableResponsive(d3)"
                          type="button">
                          <i class="far fa-calendar-alt"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class="font-weight-normal text-center">
                    <div class="input-group" style="width: 140px;">
                      <input oninput="value = value.replace(/[^0-9/]/g, '').replace(/(\..*?)\..*/g, '$1');"
                        class="form-control border-color-gray" placeholder="{{'dd.mm.yyyy' | translate}}"
                        [(ngModel)]="item.date.end" ngbDatepicker #d4="ngbDatepicker" [minDate]="item.date.start"
                        [ngClass]="{'border-color-red':(item.select&&!checkDateFormat(item.date.end))||(item.select&&!checkDateOt(i+((pageModalTable.page-1) * pageModalTable.pageSize))&&checkDateFormat(item.date.start))}">
                      <div class="input-group-append">
                        <button class="btn btn-date-blue no-shadow" (click)="d4.toggle();checkTableResponsive(d4)"
                          type="button">
                          <i class="far fa-calendar-alt"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class="font-weight-normal text-center">
                    <input type="time" class="form-control border-color-gray-full"
                      (change)="checkTimeOt(i+((pageModalTable.page-1) * pageModalTable.pageSize))"
                      [ngClass]="{'border-color-red-full':(item.select&&!item.time.start)||(item.select&&!checkTimeOt(i+((pageModalTable.page-1) * pageModalTable.pageSize))&&item.time.end)}"
                      [(ngModel)]="item.time.start">
                  </td>
                  <td class="font-weight-normal text-center">
                    <input type="time" class="form-control border-color-gray-full"
                      (change)="checkTimeOt(i+((pageModalTable.page-1) * pageModalTable.pageSize))"
                      [ngClass]="{'border-color-red-full':(item.select&&!item.time.end)||(item.select&&!checkTimeOt(i+((pageModalTable.page-1) * pageModalTable.pageSize))&&item.time.start)}"
                      [(ngModel)]="item.time.end">
                  </td>
                  <td class="font-weight-normal text-center">{{item.time.total}}</td>
                  <td class="font-weight-normal text-center">
                    <div class="input-group " style="width: 140px;">
                      <input type="text" class="form-control border-color-gray"
                        [ngClass]="{'border-color-red':item.select&&!item.reasonOt.id}"
                        placeholder="{{'Reason ID'| translate}}" [(ngModel)]="item.reasonOt.id"
                        (ngModelChange)="selectReasonOt(undefined,i)">
                      <div class="input-group-append">
                        <button class="btn me-0 btn-info" type="button"
                          (click)="openModal(modalDataSelect,'reasonOt',i)">
                          <i class="fa fa-search"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class="font-weight-normal text-center">
                    <div class="input-group " style="width: 140px;">
                      <input type="text" class="form-control border-color-gray"
                        [ngClass]="{'border-color-red':item.select&&!item.workArea.id}"
                        placeholder="{{'OT Working Area ID'| translate}}" [(ngModel)]="item.workArea.id"
                        (ngModelChange)="selectWorkArea(undefined,i)">
                      <div class="input-group-append">
                        <button class="btn me-0 btn-info" type="button"
                          (click)="openModal(modalDataSelect,'workArea',i)">
                          <i class="fa fa-search"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class=" font-weight-normal text-center">
                    <div class="input-group " style="width: 140px;">
                      <input type="text" class="form-control border-color-gray "
                        [ngClass]="{'border-color-red':item.select&&!item.costcenter.id}"
                        placeholder="{{'Cost Center ID'| translate}}" [(ngModel)]="item.costcenter.id"
                        (ngModelChange)="selectCostcenter(undefined,i)">
                      <div class="input-group-append">
                        <button class="btn me-0 btn-info" type="button"
                          (click)="openModal(modalDataSelect,'costcenter',i)">
                          <i class="fa fa-search"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class="font-weight-normal text-center">
                    <select class="form-select border-color-gray-full" [(ngModel)]="item.otType"
                      style="width: 140px;">
                      <option *ngFor="let item of dataList.otType;let i = index" [ngValue]="item">
                        {{getDesc(item.tdesc,item.edesc)}}
                      </option>
                    </select>
                  </td>
                  <td class="font-weight-normal text-center">
                    <div class="input-group " style="width: 140px;">
                      <input type="text" class="form-control border-color-gray" placeholder="{{'Shift ID'| translate}}"
                        [ngClass]="{'border-color-red':item.select&&!item.shift.id}" [(ngModel)]="item.shift.id">
                      <div class="input-group-append">
                        <button class="btn me-0 btn-info" type="button" (click)="openModal(modalDataSelect,'shift',i)">
                          <i class="fa fa-search"></i>
                        </button>
                      </div>
                    </div>
                  </td>
                  <td class="font-weight-normal text-center">
                    <div style="width: 140px;">
                      <textarea class="form-control border-color-gray-full" [(ngModel)]="item.remark"></textarea>
                    </div>

                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end p-2">
            <select class="form-select m-r-5 border-color-gray-full-focus" style="width: auto"
              [(ngModel)]="pageModalTable.pageSize" (ngModelChange)="pageModalTable.page=1">
              <option *ngFor="let item of [10,50,100]" [ngValue]="item">
                {{"Items per page"| translate}}: {{item}}
              </option>
            </select>
            <ngb-pagination [collectionSize]="pageModalTable.collectionSize" [(page)]="pageModalTable.page"
              [pageSize]="pageModalTable.pageSize" [maxSize]="3" [rotate]="true">
              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
              <button type="submit" class="btn btn-info waves-effect waves-light "
                (click)="submit('setOT')?modal.dismiss():''">
                {{"confirm" | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #modalCOff let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{"Set Compensate Day Off" | translate}}</h5>
        </div>
        <div class="card-body">
          <div class="row g-2 align-middle">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Posting Type"| translate}}
              </label>
            </div>
            <div class="form-group col-md-9 col-7 col-sm-7 m-t-10">
              <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" class="custom-control-input" id="postingType1" name="postingType" value="0"
                  [(ngModel)]="dataSelected.postingType">
                <label class="custom-control-label" for="postingType1">{{"Full Day" | translate }}</label>
              </div>
              <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" class="custom-control-input" id="postingType2" name="postingType" value="2"
                  [(ngModel)]="dataSelected.postingType">
                <label class="custom-control-label" for="postingType2">{{"First Half" | translate}}</label>
              </div>
              <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" class="custom-control-input" id="postingType3" name="postingType" value="3"
                  [(ngModel)]="dataSelected.postingType">
                <label class="custom-control-label" for="postingType3">{{"Second Half" | translate}}</label>
              </div>
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-3 col-5 col-sm-5" style="text-align: center">
              <label class="font-weight-bold text-end control-label col-form-label" style="font-size: 14px;">
                {{"Reason"| translate}}
              </label>
            </div>
            <div class="form-group col-md-9 col-7 col-sm-7" style="text-align: center">
              <textarea class="form-control border-color-gray-full" rows="2" style="resize: none;"
                [(ngModel)]="dataSelected.reason"></textarea>
            </div>
          </div>
          <div class="row g-2 align-middle">
            <div class="form-group col-md-12 col-12 col-sm-12" style="text-align: center">
              <button type="submit" class="btn btn-info waves-effect waves-light "
                (click)="submit('COff')?modal.dismiss():''">
                {{"confirm" | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #alertModal let-modal>
  <div class="modal-header justify-content-between">
    <h5 class="modal-title" id="editLabel">{{"Alert Message" | translate}}</h5>
    <button type="button" class="close" (click)="modal.close()" aria-label="Close">
      <span aria-hidden="true" class="text-black">&times;</span>
    </button>
  </div>
  <div class="modal-body" [innerHTML]="messageAlert">
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-info" (click)="modal.dismiss()">
      {{"OK"| translate}}
    </button>
  </div>
</ng-template>

<ng-template #alertPostLeave let-modal>
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
        <div class="card-header bg-myhr">
          <h5 class="card-title">{{modalDetail.text.cardHead | translate}}</h5>
        </div>
        <div class="card-body pb-0 pt-1">
          <div class="table-responsive">
            <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle ">
              <thead class="bg-info ">
                <tr class="text-white font-weight-normal">
                  <th class="font-weight-normal text-center" scope="col"
                    *ngFor="let item of modalDetail.text.tableHead">
                    {{item| translate}}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let items of modalDetail.data | slice: (modalDetail.page.page-1) * modalDetail.page.pageSize : (modalDetail.page.page-1) * modalDetail.page.pageSize + modalDetail.page.pageSize; let i=index">
                  <td class=" font-weight-normal text-center" *ngFor="let item of items.show">
                    {{item}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end p-2">
            <select class="form-select m-r-5 border-color-gray-full-focus" style="width: auto"
              [(ngModel)]="modalDetail.page.pageSize" (ngModelChange)="modalDetail.page.page=1">
              <option *ngFor="let item of [10,50,100]" [ngValue]="item">
                {{"Items per page"| translate}}: {{item}}
              </option>
            </select>
            <ngb-pagination [collectionSize]="modalDetail.page.collectionSize" [(page)]="modalDetail.page.page"
              [pageSize]="modalDetail.page.pageSize" [maxSize]="3" [rotate]="true">
              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">
        {{"Close"| translate}}
      </button>
    </div>
  </div>
</ng-template>
