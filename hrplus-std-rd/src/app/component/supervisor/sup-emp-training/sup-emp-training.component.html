<div class="justify-content-center text-center" role="status" *ngIf="loading">
    <div class="spinner-grow text-info" role="status" style="margin: 5px;">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-info" role="status" style="margin: 5px;">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-info" role="status" style="margin: 5px;">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
<div class="card" *ngIf="!loading">
    <div class="card-header bg-myhr" >
      <h4>{{"Employee Training History" | translate}}</h4>
    </div>
    <div class="card-body">
        <div class="row ">
                  <!-- ข้อมูลพนักงาน -->
                  <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-myhr">
                          <h5 class="card-title">{{"menu.employee-work-information" | translate}}</h5>
                        </div>
                        <div class="card-body" *ngIf="empWork">
                            <div class="row">
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"table.memployee.profile.employeeid" | translate}}</small>
                                  <h6>{{empWork.employeeId?empWork.employeeId:'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"table.memployee.profile.name.surname" | translate}}</small>
                                  <h6>{{empWork.getFullname()?empWork.getFullname():'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"Position" | translate}}</small>
                                  <h6>{{empWork.position?empWork.position.getPositionDesc():'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"systemcode.job.description" | translate}}</small>
                                  <h6>{{empWork.job?empWork.job.getJobDesc():'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"dashboard.bu1" | translate}}</small>
                                  <h6>{{empWork.bu1?empWork.bu1.getBu1Desc():'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"dashboard.bu2" | translate}}</small>
                                  <h6>{{empWork.bu2?empWork.bu2.getBu2Desc():'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"dashboard.bu3" | translate}}</small>
                                  <h6>{{empWork.bu3?empWork.bu3.getBu3Desc():'-'}}</h6>
                                </div>
                                <div class="col-lg-4 col-md-6 col-xs-8 b-r">
                                  <small class="text-muted">{{"Years Experience" | translate}}</small>
                                  <h6>{{ yearGenerate() }} {{ 'systemcode.year' | translate}} {{ monthGenerate() }} {{ 'systemcode.month' | translate}} {{ dateGenerate() }} {{ 'systemcode.day' | translate}}</h6>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            <!-- ประวัติการอบรม -->
            <div class="col-12 ">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"menu.traning-history" | translate}}</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <div class="wrapper">
                                <table class="table  table-hover table-sm  mb-0 no-wrap v-middle" style="width: 100%">
                                    <thead class="bg-info " >
                                    <tr class="text-white font-weight-normal">
                                    <th class="font-weight-normal " style="width: 10%;" scope="col">{{"courseID" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 40%;" scope="col">{{"courseName" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 10%;" scope="col">{{"training id" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 20%;" scope="col">{{"betweenDate" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 12%;" scope="col">{{"systemcode.result" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 8%;" scope="col"></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="noDataHis">
                                            <td colspan="5" class="font-weight-normal text-center">{{"No Data Found" |  translate}}</td>
                                        </tr>
                                        <tr *ngFor="let item of dataHis | slice: (pageHis-1) * pageSizeHis : (pageHis-1) * pageSizeHis + pageSizeHis; let i=index">
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogCourse(dialogCourse,i)">{{ item.training.course.courseId }}</a></td>
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogCourse(dialogCourse,i)">{{ item.training.course.getCourseDesc() }}</a></td>
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogTraining(dialogTraining,i)">{{ item.training.trainingId }}</a></td>
                                            <td class="align-middle"> {{ item.training.classDateFrm | date:'dd-MM-yyyy'}} - {{ item.training.classDateTo | date:'dd-MM-yyyy'}}</td>
                                            <td class="align-middle">{{ "systemcode.success."+ item.trainingStat.success | translate}}</td>
                                            <td class="align-middle"><button type="button" (click)="openDialog(dialog,i)" class="btn btn-info btn-sm btn-circle"><i class="fa fa-search"></i> </button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end p-2" >
                            <select class="form-select m-r-5" style="width: auto" [(ngModel)]="pageSizeHis"  (ngModelChange)="pageHis=1">
                              <option [ngValue]="10">{{"Items per page"| translate}}: 10</option>
                              <option [ngValue]="50">{{"Items per page"| translate}}: 50</option>
                              <option [ngValue]="100">{{"Items per page"| translate}}: 100</option>
                            </select>
                            <ngb-pagination [collectionSize]="collectionSizeHis" [(page)]="pageHis" [pageSize]="pageSizeHis" [maxSize]="3"
                              [rotate]="true">
                              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
                              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
                            </ngb-pagination>
                          </div>
                    </div>
                </div>
            </div>
            <!-- แผนการอบรม -->
            <div class="col-12 ">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"menu.traning-plan" | translate}}</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <div class="wrapper">
                                <table class="table  table-hover table-sm  mb-0 no-wrap v-middle" style="width: 100%">
                                    <thead class="bg-info " >
                                    <tr class="text-white font-weight-normal">
                                    <th class="font-weight-normal " style="width: 10%;" scope="col">{{"courseID" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 40%;" scope="col">{{"courseName" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 10%;" scope="col">{{"training id" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 20%;" scope="col">{{"betweenDate" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 12%;" scope="col">{{"ref" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 8%;" scope="col"></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="noDataPlan">
                                            <td colspan="5" class="font-weight-normal text-center">{{"No Data Found" |  translate}}</td>
                                        </tr>
                                        <tr *ngFor="let item of dataPlan | slice: (pagePlan-1) * pageSizePlan : (pagePlan-1) * pageSizePlan + pageSizePlan; let i=index">
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogCoursePlan(dialogCoursePlan,i)">{{item.training.course.courseId}}</a></td>
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogCoursePlan(dialogCoursePlan,i)">{{ item.training.course.getCourseDesc() }}</a></td>
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogTrainingPlan(dialogTrainingPlan,i)">{{ item.training.trainingId }}</a></td>
                                            <td class="align-middle"><a style="color: #7460ee;cursor: hand;cursor: pointer;"   (click)="openDialogTimePlan(dialogTimePlan,i)">{{ item.training.classDateFrm | date:'dd-MM-yyyy'}} - {{ item.training.classDateTo | date:'dd-MM-yyyy'}}</a></td>
                                            <td class="align-middle">{{ "systemcode.trnee.source." + item.traineeRegister | translate}}</td>
                                            <td class="align-middle"><button type="button" class="btn btn-info btn-sm btn-circle" (click)="openDialogPlan(dialogPlan,i)"><i class="fa fa-search"></i> </button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end p-2" >
                            <select class="form-select m-r-5" style="width: auto" [(ngModel)]="pageSizePlan"  (ngModelChange)="pagePlan=1">
                              <option [ngValue]="10">{{"Items per page"| translate}}: 10</option>
                              <option [ngValue]="50">{{"Items per page"| translate}}: 50</option>
                              <option [ngValue]="100">{{"Items per page"| translate}}: 100</option>
                            </select>
                            <ngb-pagination [collectionSize]="collectionSizePlan" [(page)]="pagePlan" [pageSize]="pageSizePlan" [maxSize]="3"
                              [rotate]="true">
                              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
                              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
                            </ngb-pagination>
                          </div>
                    </div>
                </div>
            </div>
            <!-- หลักสูตรที่ควรเข้ารับการอบรม -->
            <div class="col-12 ">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"menu.traning-recommend" | translate}}</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <div class="wrapper">
                                <table class="table  table-hover table-sm  mb-0 no-wrap v-middle" style="width: 100%">
                                    <thead class="bg-info " >
                                    <tr class="text-white font-weight-normal">
                                    <th class="font-weight-normal " style="width: 10%;" scope="col">{{"courseID" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 40%;" scope="col">{{"courseName" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 10%;" scope="col">{{"systemcode.status" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 20%;" scope="col">{{"datePlan" | translate}}</th>
                                    <th class="font-weight-normal " style="width: 20%;" scope="col">{{"nextDate" | translate}}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="noDataRec">
                                            <td colspan="5" class="font-weight-normal text-center">{{"No Data Found" |  translate}}</td>
                                        </tr>
                                        <tr *ngFor="let item of dataRec | slice: (pageRec-1) * pageSizeRec : (pageRec-1) * pageSizeRec + pageSizeRec; let i=index">
                                            <td class="align-middle">{{item.course.courseId}}</td>
                                            <td class="align-middle">{{item.course.getCourseDesc()}}</td>
                                            <td class="align-middle">{{"systemcode.recommend." + item.status | translate}}</td>
                                            <td class="align-middle">{{item.dateRequest | date:'dd-MM-yyyy'}}</td>
                                            <td class="align-middle">{{item.course.every? item.course.every: ''}} {{item.course.every ?
                                              (item.course.frequencyEvery=='Y'?('Year' | translate) :
                                              (item.course.frequencyEvery=='M'?('month' | translate) :('Day'| translate))): '' }} {{item.reCurrentStartdate | date:'dd-MM-yyyy'}}</td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end p-2" >

                          <select class="form-select m-r-5" style="width: auto" [(ngModel)]="pageSizeRec"  (ngModelChange)="pageRec=1">
                              <option [ngValue]="10">{{"Items per page"| translate}}: 10</option>
                              <option [ngValue]="50">{{"Items per page"| translate}}: 50</option>
                              <option [ngValue]="100">{{"Items per page"| translate}}: 100</option>
                            </select>
                            <ngb-pagination [collectionSize]="collectionSizeRec" [(page)]="pageRec" [pageSize]="pageSizeRec" [maxSize]="3"
                            [rotate]="true">
                            <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
                            <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
                          </ngb-pagination>
                          </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>

<ng-template #dialog let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
  <!-- Row -->
        <div class="row ">
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"course detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID" |translate}}</p>
                            <h6> {{dataHis[index].training.course.courseId == '' ? '-' :  dataHis[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course type"| translate}}</p>
                                <h6>{{dataHis[index].training.course.crsType.getCrsTypeDesc() == '' ? '-' :  dataHis[index].training.course.crsType.getCrsTypeDesc() }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataHis[index].training.course.tdesc == '' ? '-' : dataHis[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataHis[index].training.course.edesc == '' ? '-' : dataHis[index].training.course.edesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"introduction"| translate}}</p>
                                <h6>{{dataHis[index].training.course.editorial == '' ? '-' :  dataHis[index].training.course.editorial }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course content"| translate}}</p>
                            <h6>{{dataHis[index].training.course.detail == '' ? '-' :  dataHis[index].training.course.detail }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course group"| translate}}</p>
                            <h6>{{dataHis[index].training.course.crsGroup.getCrsGroupDesc() == '' ? '-' :  dataHis[index].training.course.crsGroup.getCrsGroupDesc() }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course field"| translate}}</p>
                            <h6>{{dataHis[index].training.course.crsCategory.getCrsCategoryDesc() == '' ? '-' :  dataHis[index].training.course.crsCategory.getCrsCategoryDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course style"| translate}}</p>
                            <h6>{{'systemcode.type.' +dataHis[index].training.course.crsKind == '' ? '-' :  'systemcode.coursekind.' + dataHis[index].training.course.crsKind | translate }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                            <h6>{{dataHis[index].training.course.objective == '' ? '-' :  dataHis[index].training.course.objective }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"pre-trained courses"| translate}}</p>
                            <h6>{{dataHis[index].training.course.preCrs == '' ? '-' :  dataHis[index].training.course.preCrs}}</h6>

                        </div>
                    </div>
                    </div>
                </div>
            </div>
            <!--รายละเอียดการอบรม  -->
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"training detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training id" |translate}}</p>
                            <h6>{{ dataHis[index].training.trainingId == '' ? '-' :  dataHis[index].training.trainingId}} {{"systemcode.train.desc" | translate}} {{dataHis[index].training.title}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID"| translate}}</p>
                                <h6>{{dataHis[index].training.course.courseId == '' ? '-' : dataHis[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataHis[index].training.course.tdesc == '' ? '-' : dataHis[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataHis[index].training.course.edesc == '' ? '-' : dataHis[index].training.course.edesc}}</h6>
                        </div>
                        <div
                        class="col-md-6 col-xs-12 b-r">
                        <p class="text-muted">{{"course content"| translate}}</p>
                        <h6>-</h6>

                    </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                                <h6>{{ dataHis[index].training.course.objective == '' ? '-' :  dataHis[index].training.course.objective  }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training roll"| translate}}</p>
                            <h6>{{dataHis[index].training.trainingType == '' ? '-' : dataHis[index].training.trainingType.getDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"booking date"| translate}}</p>
                            <h6>{{ dataHis[index].training.resDateFrm  | date:'dd-MM-yyyy'}}  -  {{ dataHis[index].training.resDateTo  | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training institutions"| translate}}</p>
                            <h6>{{ dataHis[index].training.academy.getAcademyDesc()== '' ? '-' : dataHis[index].training.academy.getAcademyDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training date"| translate}}</p>
                            <h6>{{ dataHis[index].training.classDateFrm | date:'dd-MM-yyyy'}}  -  {{ dataHis[index].training.classDateTo  | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training place"| translate}}</p>
                            <h6>{{ dataHis[index].training.location.getLocationDesc()== '' ? '-' : dataHis[index].training.location.getLocationDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"hours"| translate}}</p>
                            <h6> {{dataHis[index].training.classHour == '' ? '-' : dataHis[index].training.classHour | number:"2.2"}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training room"| translate}}</p>
                            <h6>{{dataHis[index].training.room.tdesc == '' ? '-' :dataHis[index].training.room.tdesc}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"responsible person"| translate}}</p>
                            <h6 *ngFor="let item of dataHis[index].training.responsible;let i = index">
                              {{translateService.currentLang == 'th'? item.reps.prefix.tdesc + item.reps.fname + " " +  item.reps.lname
                              :item.reps.prefix.edesc + item.reps.efname + " " + item.reps.elname}}
                              {{translateService.currentLang == 'th'? (item.mainResp == 1 ? "( เป็นผู้รับผิดชอบหลัก )"  : "" ) : (item.mainResp == 1 ? "( Mainresp )"  : "" )}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"annotation"| translate}}</p>
                            <h6>{{dataHis[index].training.memo == '' ? '-' : dataHis[index].training.memo}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"lecturer"| translate}}</p>
                            <h6 *ngFor="let item of dataHis[index].training.trainTrner;let i = index">
                              {{translateService.currentLang == 'th'? item.trainer.prefix.tdesc + item.trainer.trfname + " " +  item.trainer.trlname
                              :item.trainer.prefix.edesc + item.trainer.trefname + " " + item.trainer.trelname}}
                              {{translateService.currentLang == 'th'? (item.mainTrner == 1 ? "( เป็นวิทยากรหลัก )"  : "" ) : (item.mainTrner == 1 ? "( Main Trainer )"  : "" )}}</h6>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>

<!-- รายละเอียดหลักสูตร -->
<ng-template #dialogCourse let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
  <!-- Row -->
        <div class="row ">

            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"course detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                        <div class="row">
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"course.id" |translate}}</p>
                                <h6> {{dataHis[index].training.course.courseId == '' ? '-' :  dataHis[index].training.course.courseId}}</h6>
                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"course type"| translate}}</p>
                                    <h6>{{dataHis[index].training.course.crsType.getCrsTypeDesc() == '' ? '-' :  dataHis[index].training.course.crsType.getCrsTypeDesc() }}</h6>
                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"detailTH"| translate}}</p>
                                    <h6>{{dataHis[index].training.course.tdesc == '' ? '-' : dataHis[index].training.course.tdesc}}</h6>
                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"detailENG" |translate}}</p>
                                    <h6>{{dataHis[index].training.course.edesc == '' ? '-' : dataHis[index].training.course.edesc}}</h6>
                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"introduction"| translate}}</p>
                                    <h6>{{dataHis[index].training.course.editorial == '' ? '-' :  dataHis[index].training.course.editorial }}</h6>
                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"course content"| translate}}</p>
                                <h6>{{dataHis[index].training.course.detail == '' ? '-' :  dataHis[index].training.course.detail }}</h6>

                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"course group"| translate}}</p>
                                <h6>{{dataHis[index].training.course.crsGroup.getCrsGroupDesc() == '' ? '-' :  dataHis[index].training.course.crsGroup.getCrsGroupDesc() }}</h6>

                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"course field"| translate}}</p>
                                <h6>{{dataHis[index].training.course.crsCategory.getCrsCategoryDesc() == '' ? '-' :  dataHis[index].training.course.crsCategory.getCrsCategoryDesc() }}</h6>

                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"course style"| translate}}</p>
                                <h6>{{'systemcode.type.' +dataHis[index].training.course.crsKind == '' ? '-' :  'systemcode.coursekind.' + dataHis[index].training.course.crsKind | translate }}</h6>

                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"objective"| translate}}</p>
                                <h6>{{dataHis[index].training.course.objective == '' ? '-' :  dataHis[index].training.course.objective }}</h6>

                            </div>
                            <div
                                class="col-md-6 col-xs-12 b-r">
                                <p class="text-muted">{{"pre-trained courses"| translate}}</p>
                                <h6>{{dataHis[index].training.course.preCrs == '' ? '-' :  dataHis[index].training.course.preCrs}}</h6>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>

<!-- รายละเอียดการอบรม -->
<ng-template #dialogTraining let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px">
  <!-- Row -->
        <div class="row ">
            <!--รายละเอียดการอบรม  -->
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"training detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training id" |translate}}</p>
                            <h6>{{ dataHis[index].training.trainingId == '' ? '-' :  dataHis[index].training.trainingId}} {{"systemcode.train.desc" | translate}} {{dataHis[index].training.title}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID"| translate}}</p>
                                <h6>{{dataHis[index].training.course.courseId == '' ? '-' : dataHis[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataHis[index].training.course.tdesc == '' ? '-' : dataHis[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataHis[index].training.course.edesc == '' ? '-' : dataHis[index].training.course.edesc}}</h6>
                        </div>
                        <div
                        class="col-md-6 col-xs-12 b-r">
                        <p class="text-muted">{{"course content"| translate}}</p>
                        <h6>-</h6>

                    </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                                <h6>{{ dataHis[index].training.course.objective == '' ? '-' :  dataHis[index].training.course.objective  }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training roll"| translate}}</p>
                            <h6>{{dataHis[index].training.trainingType == '' ? '-' : dataHis[index].training.trainingType.getDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"booking date"| translate}}</p>
                            <h6>{{ dataHis[index].training.resDateFrm  | date:'dd-MM-yyyy'}}  -  {{ dataHis[index].training.resDateTo  | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training institutions"| translate}}</p>
                            <h6>{{ dataHis[index].training.academy.getAcademyDesc()== '' ? '-' : dataHis[index].training.academy.getAcademyDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training date"| translate}}</p>
                            <h6>{{ dataHis[index].training.classDateFrm | date:'dd-MM-yyyy'}}  -  {{ dataHis[index].training.classDateTo  | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training place"| translate}}</p>
                            <h6>{{ dataHis[index].training.location.getLocationDesc()== '' ? '-' : dataHis[index].training.location.getLocationDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"hours"| translate}}</p>
                            <h6> {{dataHis[index].training.classHour == '' ? '-' : dataHis[index].training.classHour | number:"2.2"}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training room"| translate}}</p>
                            <h6>{{dataHis[index].training.room.tdesc == '' ? '-' :dataHis[index].training.room.tdesc}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"responsible person"| translate}}</p>
                            <h6 *ngFor="let item of dataHis[index].training.responsible;let i = index">
                              {{translateService.currentLang == 'th'? item.reps.prefix.tdesc + item.reps.fname + " " +  item.reps.lname
                              :item.reps.prefix.edesc + item.reps.efname + " " + item.reps.elname}}
                              {{translateService.currentLang == 'th'? (item.mainResp == 1 ? "( เป็นผู้รับผิดชอบหลัก )"  : "" ) : (item.mainResp == 1 ? "( Mainresp )"  : "" )}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"annotation"| translate}}</p>
                            <h6>{{dataHis[index].training.memo == '' ? '-' : dataHis[index].training.memo}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"lecturer"| translate}}</p>
                            <h6 *ngFor="let item of dataHis[index].training.trainTrner;let i = index">
                              {{translateService.currentLang == 'th'? item.trainer.prefix.tdesc + item.trainer.trfname + " " +  item.trainer.trlname
                              :item.trainer.prefix.edesc + item.trainer.trefname + " " + item.trainer.trelname}}
                              {{translateService.currentLang == 'th'? (item.mainTrner == 1 ? "( เป็นวิทยากรหลัก )"  : "" ) : (item.mainTrner == 1 ? "( Main Trainer )"  : "" )}}</h6>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>

<ng-template #dialogPlan let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px" >
  <!-- Row -->
        <div class="row ">
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"course detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID" |translate}}</p>
                            <h6> {{dataPlan[index].training.course.courseId == '' ? '-' :  dataPlan[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course type"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.crsType.getCrsTypeDesc() == '' ? '-' :  dataPlan[index].training.course.crsType.getCrsTypeDesc() }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.tdesc == '' ? '-' : dataPlan[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataPlan[index].training.course.edesc == '' ? '-' : dataPlan[index].training.course.edesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"introduction"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.editorial == '' ? '-' :  dataPlan[index].training.course.editorial }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course content"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.detail == '' ? '-' :  dataPlan[index].training.course.detail }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course group"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.crsGroup.getCrsGroupDesc() == '' ? '-' :  dataPlan[index].training.course.crsGroup.getCrsGroupDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course field"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.crsCategory.getCrsCategoryDesc() == '' ? '-' :  dataPlan[index].training.course.crsCategory.getCrsCategoryDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course style"| translate}}</p>
                            <h6>{{'systemcode.type.' +dataPlan[index].training.course.crsKind == '' ? '-' :  'systemcode.coursekind.' + dataPlan[index].training.course.crsKind | translate }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.objective == '' ? '-' :  dataPlan[index].training.course.objective }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"pre-trained courses"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.preCrs == '' ? '-' :  dataPlan[index].training.course.preCrs}}</h6>

                        </div>
                    </div>
                    </div>
                </div>
            </div>
            <!--รายละเอียดการอบรม  -->
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"training detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training id" |translate}}</p>
                            <h6>{{dataPlan[index].training.trainingId == '' ? '-' : dataPlan[index].training.trainingId}} {{"systemcode.train.desc" | translate}} {{dataPlan[index].training.title == '' ? '-' : dataPlan[index].training.title}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.courseId == '' ? '-' : dataPlan[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.tdesc == '' ? '-' : dataPlan[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataPlan[index].training.course.edesc == '' ? '-' : dataPlan[index].training.course.edesc }}</h6>
                        </div>
                        <div
                        class="col-md-6 col-xs-12 b-r">
                        <p class="text-muted">{{"course content"| translate}}</p>
                        <h6>{{dataPlan[index].training.course.detail == '' ? '-' : dataPlan[index].training.course.detail}}</h6>

                    </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.objective == '' ? '-' : dataPlan[index].training.course.objective}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training roll"| translate}}</p>
                            <h6>{{dataPlan[index].training.trainingType == '' ? '-' : dataPlan[index].training.trainingType.getDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"booking date"| translate}}</p>
                            <h6>{{dataPlan[index].training.resDateFrm  | date:'dd-MM-yyyy'}}  -  {{dataPlan[index].training.resDateTo  | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training institutions"| translate}}</p>
                            <h6>{{dataPlan[index].training.academy.getAcademyDesc() == '' ? '-' : dataPlan[index].training.academy.getAcademyDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training date"| translate}}</p>
                            <h6>{{dataPlan[index].training.classDateFrm | date:'dd-MM-yyyy' == '' ? '-' : dataPlan[index].training.classDateFrm | date:'dd-MM-yyyy'}} -
                                {{dataPlan[index].training.classDateTo | date:'dd-MM-yyyy' == '' ? '-' : dataPlan[index].training.classDateTo | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training place"| translate}}</p>
                            <h6>{{dataPlan[index].training.location.getLocationDesc() == '' ? '-' : dataPlan[index].training.location.getLocationDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"hours"| translate}}</p>
                            <h6>{{dataPlan[index].training.classHour == '' ? '-' :dataPlan[index].training.classHour | number:"2.2"}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training room"| translate}}</p>
                            <h6>{{dataPlan[index].training.room.getRoomDesc() == '' ? '-' : dataPlan[index].training.room.getRoomDesc()}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"responsible person"| translate}}</p>
                            <h6 *ngFor="let item of dataPlan[index].training.responsible;let i = index">
                                {{translateService.currentLang == 'th'? item.reps.prefix.tdesc + item.reps.fname + " " +  item.reps.lname
                                :item.reps.prefix.edesc + item.reps.efname + " " + item.reps.elname}}
                                {{translateService.currentLang == 'th'? (item.mainResp == 1 ? "( เป็นผู้รับผิดชอบหลัก )"  : "" ) : (item.mainResp == 1 ? "( Mainresp )"  : "" )}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"annotation"| translate}}</p>
                            <h6>{{dataPlan[index].training.memo == '' ? '-' : dataPlan[index].training.memo}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"lecturer"| translate}}</p>
                            <h6 *ngFor="let item of dataPlan[index].training.trainTrner;let i = index">
                                {{translateService.currentLang == 'th'? item.trainer.prefix.tdesc + item.trainer.trfname + " " +  item.trainer.trlname
                                :item.trainer.prefix.edesc + item.trainer.trefname + " " + item.trainer.trelname}}
                                {{translateService.currentLang == 'th'? (item.mainTrner == 1 ? "( เป็นวิทยากรหลัก )"  : "" ) : (item.mainTrner == 1 ? "( Main Trainer )"  : "" )}}</h6>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

            <!--ทะเบียนช่วงเวลา  -->
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"time schedule" | translate}}</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <div class="wrapper">
                                <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle " >
                                    <thead class="bg-info " >
                                    <tr class="text-white font-weight-normal">
                                    <th class="font-weight-normal text-center" scope="col">{{"day" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"start time" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"end time" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"break hour" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"total time" | translate}}</th>
                                    </tr>
                                    </thead>
                                    <tbody >
                                    <tr *ngFor="let item of dataPlan[index].training.trainingTimes; let i=index">
                                        <td class="align-middle text-center">{{item.startDate == '' ? '-' : item.startDate | date:'dd-MM-yyyy'}}</td>
                                        <td class="align-middle text-center">{{item.startTime == '' ? '-' : item.startTime | number:"2.2"}}</td>
                                        <td class="align-middle text-center">{{item.endTime == '' ? '-' : item.endTime | number:"2.2"}}</td>
                                        <td class="align-middle text-center">{{item.timeBreak == '' ? '-' : item.timeBreak | number:".2"}}</td>
                                        <td class="align-middle text-center">{{item.hour == '' ? '-' : item.hour | number:".2"}}</td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>

<!-- รายละเอียดหลักสูตร -->
<ng-template #dialogCoursePlan let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px" >
  <!-- Row -->
        <div class="row ">
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"course detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID" |translate}}</p>
                            <h6> {{dataPlan[index].training.course.courseId == '' ? '-' :  dataPlan[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course type"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.crsType.getCrsTypeDesc() == '' ? '-' :  dataPlan[index].training.course.crsType.getCrsTypeDesc() }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.tdesc == '' ? '-' : dataPlan[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataPlan[index].training.course.edesc == '' ? '-' : dataPlan[index].training.course.edesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"introduction"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.editorial == '' ? '-' :  dataPlan[index].training.course.editorial }}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course content"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.detail == '' ? '-' :  dataPlan[index].training.course.detail }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course group"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.crsGroup.getCrsGroupDesc() == '' ? '-' :  dataPlan[index].training.course.crsGroup.getCrsGroupDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course field"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.crsCategory.getCrsCategoryDesc() == '' ? '-' :  dataPlan[index].training.course.crsCategory.getCrsCategoryDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"course style"| translate}}</p>
                            <h6>{{'systemcode.type.' +dataPlan[index].training.course.crsKind == '' ? '-' :  'systemcode.coursekind.' + dataPlan[index].training.course.crsKind | translate }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.objective == '' ? '-' :  dataPlan[index].training.course.objective }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"pre-trained courses"| translate}}</p>
                            <h6>{{dataPlan[index].training.course.preCrs == '' ? '-' :  dataPlan[index].training.course.preCrs}}</h6>

                        </div>
                    </div>
                    </div>
                </div>
            </div>

        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>

<!-- รายละเอียดการอบรม -->
<ng-template #dialogTrainingPlan let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px" >
  <!-- Row -->
        <div class="row ">
            <!--รายละเอียดการอบรม  -->
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"training detail" | translate}}</h5>
                    </div>

                    <div class="card-body">
                      <div class="row">
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training id" |translate}}</p>
                            <h6>{{dataPlan[index].training.trainingId == '' ? '-' : dataPlan[index].training.trainingId}} {{"systemcode.train.desc" | translate}} {{dataPlan[index].training.title == '' ? '-' : dataPlan[index].training.title}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"courseID"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.courseId == '' ? '-' : dataPlan[index].training.course.courseId}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailTH"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.tdesc == '' ? '-' : dataPlan[index].training.course.tdesc}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"detailENG" |translate}}</p>
                                <h6>{{dataPlan[index].training.course.edesc == '' ? '-' : dataPlan[index].training.course.edesc }}</h6>
                        </div>
                        <div
                        class="col-md-6 col-xs-12 b-r">
                        <p class="text-muted">{{"course content"| translate}}</p>
                        <h6>{{dataPlan[index].training.course.detail == '' ? '-' : dataPlan[index].training.course.detail}}</h6>

                    </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"objective"| translate}}</p>
                                <h6>{{dataPlan[index].training.course.objective == '' ? '-' : dataPlan[index].training.course.objective}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training roll"| translate}}</p>
                            <h6>{{dataPlan[index].training.trainingType == '' ? '-' : dataPlan[index].training.trainingType.getDesc() }}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"booking date"| translate}}</p>
                            <h6>{{dataPlan[index].training.resDateFrm  | date:'dd-MM-yyyy'}}  -  {{dataPlan[index].training.resDateTo  | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training institutions"| translate}}</p>
                            <h6>{{dataPlan[index].training.academy.getAcademyDesc() == '' ? '-' : dataPlan[index].training.academy.getAcademyDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training date"| translate}}</p>
                            <h6>{{dataPlan[index].training.classDateFrm | date:'dd-MM-yyyy' == '' ? '-' : dataPlan[index].training.classDateFrm | date:'dd-MM-yyyy'}} -
                                {{dataPlan[index].training.classDateTo | date:'dd-MM-yyyy' == '' ? '-' : dataPlan[index].training.classDateTo | date:'dd-MM-yyyy'}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training place"| translate}}</p>
                            <h6>{{dataPlan[index].training.location.getLocationDesc() == '' ? '-' : dataPlan[index].training.location.getLocationDesc()}}</h6>

                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"hours"| translate}}</p>
                            <h6>{{dataPlan[index].training.classHour == '' ? '-' :dataPlan[index].training.classHour | number:"2.2"}}</h6>
                        </div>
                        <div
                            class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"training room"| translate}}</p>
                            <h6>{{dataPlan[index].training.room.getRoomDesc() == '' ? '-' : dataPlan[index].training.room.getRoomDesc()}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"responsible person"| translate}}</p>
                            <h6 *ngFor="let item of dataPlan[index].training.responsible;let i = index">
                                {{translateService.currentLang == 'th'? item.reps.prefix.tdesc + item.reps.fname + " " +  item.reps.lname
                                :item.reps.prefix.edesc + item.reps.efname + " " + item.reps.elname}}
                                {{translateService.currentLang == 'th'? (item.mainResp == 1 ? "( เป็นผู้รับผิดชอบหลัก )"  : "" ) : (item.mainResp == 1 ? "( Mainresp )"  : "" )}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"annotation"| translate}}</p>
                            <h6>{{dataPlan[index].training.memo == '' ? '-' : dataPlan[index].training.memo}}</h6>
                        </div>
                        <div class="col-md-6 col-xs-12 b-r">
                            <p class="text-muted">{{"lecturer"| translate}}</p>
                            <h6 *ngFor="let item of dataPlan[index].training.trainTrner;let i = index">
                                {{translateService.currentLang == 'th'? item.trainer.prefix.tdesc + item.trainer.trfname + " " +  item.trainer.trlname
                                :item.trainer.prefix.edesc + item.trainer.trefname + " " + item.trainer.trelname}}
                                {{translateService.currentLang == 'th'? (item.mainTrner == 1 ? "( เป็นวิทยากรหลัก )"  : "" ) : (item.mainTrner == 1 ? "( Main Trainer )"  : "" )}}</h6>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>

<!-- ทะเบียนช่วงเวลา -->
<ng-template #dialogTimePlan let-modal >
  <div class="modal-content dialog-height">
    <div class="modal-body" [perfectScrollbar]="config">
      <div class="card" style="margin-bottom:-15px" >
  <!-- Row -->
        <div class="row ">
            <!--ทะเบียนช่วงเวลา  -->
            <div class="col-12 m-t-10">
                <div class="card">
                    <div class="card-header bg-myhr">
                        <h5 class="card-title">{{"time schedule" | translate}}</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <div class="wrapper">
                                <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle " >
                                    <thead class="bg-info " >
                                    <tr class="text-white font-weight-normal">
                                    <th class="font-weight-normal text-center" scope="col">{{"day" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"start time" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"end time" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"break hour" | translate}}</th>
                                    <th class="font-weight-normal text-center" scope="col">{{"total time" | translate}}</th>
                                    </tr>
                                    </thead>
                                    <tbody >
                                    <tr *ngFor="let item of dataPlan[index].training.trainingTimes; let i=index">
                                        <td class="align-middle text-center">{{item.startDate == '' ? '-' : item.startDate | date:'dd-MM-yyyy'}}</td>
                                        <td class="align-middle text-center">{{item.startTime == '' ? '-' : item.startTime | number:"2.2"}}</td>
                                        <td class="align-middle text-center">{{item.endTime == '' ? '-' : item.endTime | number:"2.2"}}</td>
                                        <td class="align-middle text-center">{{item.timeBreak == '' ? '-' : item.timeBreak | number:".2"}}</td>
                                        <td class="align-middle text-center">{{item.hour == '' ? '-' : item.hour | number:".2"}}</td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



        </div>
      </div>
  </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">{{"Close"| translate}}</button>
    </div>
</div>
</ng-template>
