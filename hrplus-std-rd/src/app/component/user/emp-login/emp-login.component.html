<div class="card">
    <div class="card-header bg-myhr">
        <h4>{{"Emp Login" | translate}}</h4>
    </div>
    <div class="card-body">
        <div>
            <form novalidate="" class="form-horizontal ">
                <div class="row justify-content-center">
                    <div class="col-md-3 col-5 col-sm-5">
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon13">
                                        {{"Start Date" | translate}}
                                    </span>
                                </div>
                                <input class="form-control" 
                                placeholder="{{'dd.mm.yyyy' | translate}}" name="dp1"
                                [(ngModel)]="selectStartDate" ngbDatepicker #d1="ngbDatepicker" 
                                [maxDate]="selectEndDate" #ngb1="ngModel"
                                (change)="selectStartDate = datepickerService.validateFormatDateNull(ngb1)">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-info no-shadow" (click)="d1.toggle()" type="button">
                                        <i class="far fa-calendar-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-5 col-sm-5">
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon13">
                                        {{"End Date" | translate}}
                                    </span>
                                </div>
                                <input class="form-control" 
                                placeholder="{{'dd.mm.yyyy' | translate}}" name="dp2"
                                [(ngModel)]="selectEndDate" ngbDatepicker #d2="ngbDatepicker" 
                                [minDate]="selectStartDate" #ngb2="ngModel"
                                (change)="selectEndDate = datepickerService.validateFormatDateNull(ngb2)">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-info no-shadow" (click)="d2.toggle()" type="button">
                                        <i class="far fa-calendar-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </form>
        </div>
        <div>
            <div class="form-horizontal ">
                <div class="row justify-content-center">
                    <div class="col-md-3 col-5 col-sm-5">
                       
                        <select class="form-select" [(ngModel)]="sendStatusLogin">
                            <option *ngFor="let item of loginStatus" value="{{item.loginStatus}}">{{translate.currentLang=='th'?item.thai:item.en}}</option>
                        </select>
                    </div>
                    <div class="form-group col-md-2 col-2 col-sm-2" style="text-align: left;">
                        <button type="button" class="btn btn-info  btn-sm btn-circle  m-r-5 m-l-10"
                            (click)="getActionlogList()"><i class="fa fa-search"></i> </button>
                    </div>
                    <div class="form-group col-md-1" style="margin-top: 5px; text-align: right;">
                    </div>
                </div>
            </div>
        </div>
        <table class="table  table-hover table-striped-myhr table-sm  mb-0 no-wrap v-middle ">
            <thead class="bg-info ">
                <tr class="text-white font-weight-normal">
                    <th class="font-weight-normal width-table text-center " scope="col">{{"Time Login" | translate}}
                    </th>
                    <th class="font-weight-normal width-table text-center " scope="col">{{"Status Login" | translate}}
                    </th>
                    <th class="font-weight-normal width-table text-center " scope="col">{{"Time Logout" | translate}}
                    </th>
                    <th class="font-weight-normal width-table text-center " scope="col">{{"Status" | translate}}</th>
                    <th class="font-weight-normal width-table text-center " scope="col">{{"IP Address" | translate}}
                    </th>
                    <th class="font-weight-normal width-table text-center " scope="col">{{"Last Module Page" |
                        translate}}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngIf="!actionLog">
                    <td colspan="6" class="font-weight-normal text-center">
                        {{"No Data Found" | translate}}</td>
                </tr>
                <tr *ngFor="let item of actionLog | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize; let i = index " >
                    <td class="font-weight-normal width-table text-center " scope="col">{{item.loginTime?item.loginTime:"-"}} {{(item.loginDate?item.loginDate:"") | date:"dd/MM/yyyy"}}</td>
                   
                    <td class="font-weight-normal width-table text-center " scope="col">{{translate.currentLang=='th'?arraylistLogin[i+((page-1) * pageSize)].thai:arraylistLogin[i+((page-1) * pageSize)].en}}</td>
                    <td class="font-weight-normal width-table text-center " scope="col">{{item.logoutTime?item.logoutTime:"-"}} {{(item.logoutDate?item.logoutDate:"") | date:"dd/MM/yyyy"}}</td>
                    <td class="font-weight-normal width-table text-center " scope="col">{{translate.currentLang=='th'?arraylistLogout[i+((page-1) * pageSize)].thai:arraylistLogout[i+((page-1) * pageSize)].en}}</td>
                    <td class="font-weight-normal width-table text-center " scope="col">{{item.remoteIp?item.remoteIp:"-"}}</td>
                    <td class="font-weight-normal width-table text-center " scope="col">{{item.moduleName?item.moduleName:"-"}} {{item.currentPage}}</td>
                </tr>
            </tbody>
        </table>
        <div class="d-flex justify-content-end p-2">

            <select class="form-select m-r-5" style="width: auto" [(ngModel)]="pageSize" (ngModelChange)="page=1">
              <option [ngValue]="10">{{"Items per page"| translate}}: 10</option>
              <option [ngValue]="50">{{"Items per page"| translate}}: 50</option>
              <option [ngValue]="100">{{"Items per page"| translate}}: 100</option>
            </select>
      
            <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize" [maxSize]="3"
              [rotate]="true">
              <ng-template ngbPaginationPrevious>{{"Prev"| translate}}</ng-template>
              <ng-template ngbPaginationNext>{{"Next"| translate}}</ng-template>
            </ngb-pagination>
      
      
          </div>
    </div>
</div>
