<div class="row" style="zoom: 60%;">
    <div class="col-12" style="padding: 1px;">
        <h6 class="border-form text-center">
            ตัวชี้วัดผลการปฏิบัติงานรายบุคคล {{jobName}}
        </h6>
    </div>
    <div class="row m-0 col-2 p-0">
        <div class="col-2" style="padding: 1px;">
            <h6 class="border-form text-center">
                No
            </h6>
        </div>
        <div class="col-10" style="padding: 1px;">
            <h6 class="border-form text-center">
                Topic
            </h6>
        </div>
    </div>
    <div class="col-1" style="padding: 1px;">
        <h6 class="border-form text-center">
            Target
        </h6>
    </div>
    <div class="row m-0 col-5 p-0">
        <div class="row m-0 col-10 p-0">
            <div class="col-3" style="padding: 1px;">
                <h6 class="border-form text-center">
                    Rank Target Q1
                </h6>
            </div>
            <div class="col-3" style="padding: 1px;">
                <h6 class="border-form text-center">
                    Rank Target Q2
                </h6>
            </div>
            <div class="col-3" style="padding: 1px;">
                <h6 class="border-form text-center">
                    Rank Target Q3
                </h6>
            </div>
            <div class="col-3" style="padding: 1px;">
                <h6 class="border-form text-center">
                    Rank Target Q4
                </h6>
            </div>
        </div>
        <div class="col-2" style="padding: 1px;">
            <h6 class="border-form text-center">
                Score
            </h6>
        </div>
    </div>
    <div class="row m-0 col-4 p-0">
        <div class="col-1" style="padding: 1px;">
            <h6 class="border-form text-center">
            </h6>
        </div>
        <div class="row m-0 col-11 p-0">
            <div class="row m-0 col-3 p-0">
                <div class="col-12" style="padding: 1px;">
                    <div class="border-form text-center">
                        Q1
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ประเมินตนเอง
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ผู้บังคับบัญชา
                    </div>
                </div>
            </div>
            <div class="row m-0 col-3 p-0">
                <div class="col-12" style="padding: 1px;">
                    <div class="border-form text-center">
                        Q2
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ประเมินตนเอง
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ผู้บังคับบัญชา
                    </div>
                </div>
            </div>
            <div class="row m-0 col-3 p-0">
                <div class="col-12" style="padding: 1px;">
                    <div class="border-form text-center">
                        Q3
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ประเมินตนเอง
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ผู้บังคับบัญชา
                    </div>
                </div>
            </div>
            <div class="row m-0 col-3 p-0">
                <div class="col-12" style="padding: 1px;">
                    <div class="border-form text-center">
                        Q4
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ประเมินตนเอง
                    </div>
                </div>
                <div class="col-lg-6" style="padding: 1px;">
                    <div class="border-form text-center">
                        ผู้บังคับบัญชา
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-container *ngFor="let items of kpiformDetail.masform1DetailV2Models[0].assessDetails;let i = index">
        <div class="row m-0 col-2 p-0">
            <div class="col-2" style="padding: 1px;">
                <div class="border-form text-center">
                    {{i+1}}
                </div>
            </div>
            <div class="col-10" style="padding: 1px;">
                <div class="border-form text-center">
                    {{getText(items.tdesc,items.edesc)}}
                </div>
            </div>
        </div>
        <div class="col-1" style="padding: 1px;">
            <div class="border-form text-center">
                {{items.asobject}}
            </div>
        </div>
        <div class="row m-0 col-5 p-0">
            <div class="row m-0 col-12" style="padding: 1px;">
                <ng-container
                    *ngFor="let item of (items.masanswerl.length>=masformDetail.kpiCategory.length)?items.masanswerl:masformDetail.kpiCategory;let i = index">
                    <div class="row m-0 col-10 p-0" style="width: 200px;">
                        <div class="col-12" style="padding: 1px;">
                            <span class="border-form text-center"
                                *ngIf="items.masanswerl.length>=masformDetail.kpiCategory.length">
                                {{getText(item.tdesc,item.edesc)}}
                            </span>
                            <span class="border-form text-center"
                                *ngIf="items.masanswerl.length<masformDetail.kpiCategory.length && i<items.masanswerl.length">
                                {{getText(items.masanswerl[i].tdesc,items.masanswerl[i].edesc)}}
                            </span>
                        </div>
                    </div>
                    <div class="col-2" style="padding: 1px;">
                        <span class="border-form text-center"
                            *ngIf="items.masanswerl.length>=masformDetail.kpiCategory.length && i<masformDetail.kpiCategory.length">
                            {{masformDetail.kpiCategory[i].kcatId}}
                            {{getText(masformDetail.kpiCategory[i].tdesc,masformDetail.kpiCategory[i].edesc)}}
                        </span>
                        <span class="border-form text-center"
                            *ngIf="items.masanswerl.length<masformDetail.kpiCategory.length ">
                            {{item.kcatId == -1 ? "N" : item.kcatId }}
                            {{getText(item.tdesc,item.edesc)}}
                        </span>
                    </div>
                </ng-container>
            </div>
            <div class="row m-0 col-12 p-0">
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        Rank Q1
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        Rank Q2
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        Rank Q3
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        Rank Q4
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        <!-- <button type="button" class="btn btn-secondary  text-white mx-1"
                            (click)="openModal(rankModal,i,'1')">
                            {{"..." | translate}}
                        </button> -->
                        <textarea class="w-100"
                            [(ngModel)]="kpiformDetail.masform1DetailV2Models[0].assessDetails[i]['resultDetail1']"
                            [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step"></textarea>
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        <!-- <button type="button" class="btn btn-secondary  text-white mx-1"
                            (click)="openModal(rankModal,i,'2')">
                            {{"..." | translate}}
                        </button> -->
                        <textarea class="w-100"
                            [(ngModel)]="kpiformDetail.masform1DetailV2Models[0].assessDetails[i]['resultDetail2']"
                            [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step"></textarea>
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        <!-- <button type="button" class="btn btn-secondary  text-white mx-1"
                            (click)="openModal(rankModal,i,'3')">
                            {{"..." | translate}}
                        </button> -->
                        <textarea class="w-100"
                            [(ngModel)]="kpiformDetail.masform1DetailV2Models[0].assessDetails[i]['resultDetail3']"
                            [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step"></textarea>
                    </div>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <div class="border-form text-center">
                        <!-- <button type="button" class="btn btn-secondary  text-white mx-1"
                            (click)="openModal(rankModal,i,'4')">
                            {{"..." | translate}}
                        </button> -->
                        <textarea class="w-100"
                            [(ngModel)]="kpiformDetail.masform1DetailV2Models[0].assessDetails[i]['resultDetail4']"
                            [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step"></textarea>
                    </div>
                </div>
                <div class="col-12" style="padding: 1px;">
                    <div class="border-form text-center">
                        <button type="button" class="btn btn-secondary  text-white mx-1"
                            (click)="openImgModal(imgModal,i)">
                            {{"รูปภาพ" | translate}}
                            {{kpiformDetail.masform1DetailV2Models[0].assessDetails[i].image
                            !="browse_file"?kpiformDetail.masform1DetailV2Models[0].assessDetails[i].image:''}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m-0 col-4 p-0">
            <div class="col-1" style="padding: 1px;">
                <div class="border-form text-center">
                    Weight %
                </div>
            </div>
            <div class="row m-0 col-11 p-0">
                <div class="row m-0 col-6 p-0">
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.selfWeightQ1Score" (ngModelChange)="calSelfTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                        </span>
                    </div>
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.bossWeightQ1Score" (ngModelChange)="calBossTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                        </span>
                    </div>
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.selfWeightQ2Score" (ngModelChange)="calSelfTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                        </span>
                    </div>
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.bossWeightQ2Score" (ngModelChange)="calBossTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                        </span>
                    </div>
                </div>
                <div class="row m-0 col-6 p-0">
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.selfWeightQ3Score" (ngModelChange)="calSelfTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                        </span>
                    </div>
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.bossWeightQ3Score" (ngModelChange)="calBossTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                        </span>
                    </div>
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.selfWeightQ4Score" (ngModelChange)="calSelfTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                        </span>
                    </div>
                    <div class="col-3" style="padding: 1px;">
                        <span class="border-form text-center">
                            <input type="text" class="form-control" oninput="value = value.replace(/[^0-9]/g, '');"
                                [(ngModel)]="items.bossWeightQ4Score" (ngModelChange)="calBossTotalScore()"
                                [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-1" style="padding: 1px;">
                <div class="border-form text-center">
                    Actual Score
                </div>
            </div>
            <div class="row m-0 col-11 p-0">
                <div class="row m-0 col-12 p-0">
                    <div class="row m-0 col-6 p-0">
                        <div class="col-6" style="padding: 1px;">
                            <span class="border-form text-center">
                                Q1
                            </span>
                        </div>
                        <div class="col-6" style="padding: 1px;">
                            <span class="border-form text-center">
                                Q2
                            </span>
                        </div>
                    </div>
                    <div class="row m-0 col-6 p-0">
                        <div class="col-6" style="padding: 1px;">
                            <span class="border-form text-center">
                                Q3
                            </span>
                        </div>
                        <div class="col-6" style="padding: 1px;">
                            <span class="border-form text-center">
                                Q4
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row m-0 col-12 p-0">
                    <div class="row m-0 col-6 p-0">
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.selfActualQ1Score" (ngModelChange)="calSelfTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.selfWeightQ1Score,items.selfActualQ1Score)}}
                                </span>
                            </div>
                        </div>
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.bossActualQ1Score" (ngModelChange)="calBossTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.bossWeightQ1Score,items.bossActualQ1Score)}}
                                </span>
                            </div>
                        </div>
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.selfActualQ2Score" (ngModelChange)="calSelfTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.selfWeightQ2Score,items.selfActualQ2Score)}}
                                </span>
                            </div>
                        </div>
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.bossActualQ2Score" (ngModelChange)="calBossTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.bossWeightQ2Score,items.bossActualQ2Score)}}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row m-0 col-6 p-0">
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.selfActualQ3Score" (ngModelChange)="calSelfTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.selfWeightQ3Score,items.selfActualQ3Score)}}
                                </span>
                            </div>
                        </div>
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.bossActualQ3Score" (ngModelChange)="calBossTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.bossWeightQ3Score,items.bossActualQ3Score)}}
                                </span>
                            </div>
                        </div>
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.selfActualQ4Score" (ngModelChange)="calSelfTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('supervisor')||(step!='0'&& !(step=='1'&&job=='P008'))">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.selfWeightQ4Score,items.selfActualQ4Score)}}
                                </span>
                            </div>
                        </div>
                        <div class="row m-0 col-3 p-0">
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    <input type="text" class="form-control"
                                        oninput="value = value.replace(/[^0-9]/g, '');"
                                        [(ngModel)]="items.bossActualQ4Score" (ngModelChange)="calBossTotalScore()"
                                        [disabled]="statusCompetencyKpiCheck('employee') || statusCompetencyKpiCheck('supervisor_finish')||step=='0'||!step">
                                </span>
                            </div>
                            <div class="col-12" style="padding: 1px;">
                                <span class="border-form text-center">
                                    {{calPer(items.bossWeightQ4Score,items.bossActualQ4Score)}}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>
    <div class="col-8"></div>
    <div class="row m-0 col-4 p-0">
        <div class="col-1" style="padding: 1px;">
            <div class="border-form text-center">
                Total Weight
            </div>
        </div>
        <div class="row m-0 col-11 p-0">
            <div class="row m-0 col-6 p-0">
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('selfWeightQ1Score')}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('bossWeightQ1Score')}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('selfWeightQ2Score')}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('bossWeightQ2Score')}}%
                    </span>
                </div>
            </div>
            <div class="row m-0 col-6 p-0">
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('selfWeightQ3Score')}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('bossWeightQ3Score')}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('selfWeightQ4Score')}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{calTotalbyKey('bossWeightQ4Score')}}%
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="col-8"></div>
    <div class="row m-0 col-4 p-0">
        <div class="col-1" style="padding: 1px;">
            <div class="border-form text-center">
                Total Score
            </div>
        </div>
        <div class="row m-0 col-11 p-0">
            <div class="row m-0 col-6 p-0">
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('selfWeightQ1Score','selfActualQ1Score'))/(fmtNum(calTotalbyKey('selfWeightQ1Score'))/100))/100)}}
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('bossWeightQ1Score','bossActualQ1Score'))/(fmtNum(calTotalbyKey('bossWeightQ1Score'))/100))/100)}}
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('selfWeightQ2Score','selfActualQ2Score'))/(fmtNum(calTotalbyKey('selfWeightQ2Score'))/100))/100)}}
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('bossWeightQ2Score','bossActualQ2Score'))/(fmtNum(calTotalbyKey('bossWeightQ2Score'))/100))/100)}}
                    </span>
                </div>
            </div>
            <div class="row m-0 col-6 p-0">
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('selfWeightQ3Score','selfActualQ3Score'))/(fmtNum(calTotalbyKey('selfWeightQ3Score'))/100))/100)}}
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('bossWeightQ3Score','bossActualQ3Score'))/(fmtNum(calTotalbyKey('bossWeightQ3Score'))/100))/100)}}
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('selfWeightQ4Score','selfActualQ4Score'))/(fmtNum(calTotalbyKey('selfWeightQ4Score'))/100))/100)}}
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{fmtNum((fmtNum(calTotalby2Key('bossWeightQ4Score','bossActualQ4Score'))/(fmtNum(calTotalbyKey('bossWeightQ4Score'))/100))/100)}}
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="col-8"></div>
    <div class="row m-0 col-4 p-0">
        <div class="col-1"></div>
        <div class="row m-0 col-11 p-0">
            <div class="row m-0 col-6 p-0">
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{selfTotalScore}}%
                    </span>
                </div>
                <div class="col-3" style="padding: 1px;">
                    <span class="border-form text-center">
                        {{bossTotalScore}}%
                    </span>
                </div>
            </div>
            <div class="row m-0 col-6 p-0"></div>
        </div>
    </div>
</div>

<ng-template #rankModal let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editLabel">Rank Target Q{{rankHead}}</h5>
        <button type="button" class="close" (click)="modal.dismiss()">
            <span>&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <textarea class="w-100"
            [(ngModel)]="kpiformDetail.masform1DetailV2Models[0].assessDetails[rankIndex]['resultDetail'+rankHead]"
            [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step"></textarea>
    </div>
</ng-template>

<ng-template #imgModal let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editLabel">รูปภาพ</h5>
        <button type="button" class="close" (click)="modal.dismiss()">
            <span>&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <small class="text-muted">{{"selected_file"| translate}}</small>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">{{"upload_file"|translate}}</span>
                        </div>
                        <div class="custom-file">
                            <input #fileInput type="file" class="custom-file-input" id="kpiFile" title=""
                                (change)="onFileSelected($event)"
                                accept="{{uploadConfig?uploadConfig.filter.replaceAll('*',''):''}}"
                                [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step">
                            <label class="custom-file-label col-lg-12 col-md-12 col-sm-12" for="kpiFile">
                                {{kpiformDetail.masform1DetailV2Models[0].assessDetails[imgIndex].image | translate}}
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-2 b-r">
                <div class="form-group " style="margin-top: 20px;">
                    <button type="button" class="btn btn-danger" (click)="resetIMG()"
                        [disabled]="statusCompetencyKpiCheck('supervisor_finish')||!step">
                        {{"cancel"|translate}}</button>
                </div>
            </div>
            <div class="col-12 d-flex justify-content-center" *ngIf="imgUrl">
                <span (click)="getKpiPicture()">
                    <img [src]="imgUrl" alt="Preview" class="img-fluid">
                </span>
            </div>
        </div>
    </div>
</ng-template>
