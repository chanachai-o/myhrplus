<div class="row">
    <!-- ส่งถึง -->
    <div class="col-12">
        <app-workflow-sendto (employeeCCId)="employeeCCId=$event" [wfid]="wfid" [cardNameTh]="cardNameTh" [cardNameEng]="cardNameEng"></app-workflow-sendto>
    </div>
    <!-- ปิดส่งถึง -->
    <!-- ข้อมูลพนักงาน -->
    <div class="col-12">
        <app-workflow-emp-information (changeEmpInformation)="changeEmpInformation($event)"></app-workflow-emp-information>
    </div>
    <!-- ปิดข้อมูลพนักงาน -->
    <!-- รายละเอียดแบบฟอร์มการลาออก -->
    <div class="col-12">
        <div class="card mb-0">
            <div class="card-header bg-myhr">
                <h6 class="card-title">{{"Detail" | translate }}</h6>
            </div>
            <div class="card-body">
                <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Effective date"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6 col-md-3 ">
                        <div class="input-group">
                            <input [readOnly]="true" class="form-control" ngbDatepicker #DpEffective="ngbDatepicker"
                                placeholder="{{'dd.mm.yyyy' | translate}}" [(ngModel)]="effectiveDate" (ngModelChange)="setMaxDate()"
                                oninput="value = value.replace(/[^0-9/]/g, '');" #c1="ngModel" (change)="effectiveDate = datepickerService.validateFormatDate(c1)" [maxDate]="maxDateResign" [minDate]="startEffDate" >
                            <div class="input-group-append">
                                <button type="button" class="btn btn-outline-info no-shadow"
                                    (click)="DpEffective.toggle()">
                                    <i class="far fa-calendar-alt"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Last Work Date"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6 col-md-3 ">
                        <div class="input-group">
                            <input class="form-control" ngbDatepicker #DpLastWork="ngbDatepicker"
                                placeholder="{{'dd.mm.yyyy' | translate}}" [(ngModel)]="lastWorkDate" [disabled]="effectiveDate.year == 0" [readOnly]="true"
                                oninput="value = value.replace(/[^0-9/]/g, '');" #c2="ngModel" (change)="lastWorkDate = datepickerService.validateFormatDate(c2)" [maxDate]="maxDateEffect" [minDate]="startWorkDate">
                            <div class="input-group-append">
                                <button type="button" class="btn btn-outline-info no-shadow"
                                    (click)="DpLastWork.toggle()">
                                    <i class="far fa-calendar-alt"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Work ages"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6 col-md-3 ">
                        <label class="col-form-label font-weight-bold font-14">
                            {{ageWork.year}} {{"year" | translate}}
                            {{ageWork.month}} {{"month" | translate}}
                            {{ageWork.day}} {{"day" | translate}}
                        </label>
                    </div>
                </div>
                <!-- <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Attitude"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6">
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" name="AttitudeRadio" id="Positive" class="custom-control-input"
                                [value]="1" [(ngModel)]="attitude">
                            <label class="custom-control-label" for="Positive">
                                {{"Positive" | translate}}
                            </label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" name="AttitudeRadio" id="Negative" class="custom-control-input"
                                [value]="2" [(ngModel)]="attitude">
                            <label class="custom-control-label" for="Negative">
                                {{"Negative" | translate}}
                            </label>
                        </div>
                    </div>
                </div> -->
                <!-- <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Willingly Resign"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6">
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" name="WillinglyResignRadio" id="Yes" class="custom-control-input"
                                [value]="1" [(ngModel)]="willinglyResign">
                            <label class="custom-control-label" for="Yes">
                                {{"Yes" | translate}}
                            </label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" name="WillinglyResignRadio" id="No" class="custom-control-input"
                                [value]="2" [(ngModel)]="willinglyResign">
                            <label class="custom-control-label" for="No">
                                {{"No" | translate}}
                            </label>
                        </div>
                    </div>
                </div> -->
                <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Resign Reason"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6 col-md-3">
                        <div class="input-group">
                            <input [readOnly]="true" type="text" class="form-control" placeholder="{{'Resign Reason ID'| translate}}"
                                [ngModel]="resignReason.resignreasonId"
                                (ngModelChange)="modelResignReasonChange($event)">
                            <div class="input-group-append">
                                <button type="button" class="btn btn-info" (click)="openResignReasonModal()">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group offset-3 offset-md-0 col-6 col-md-3 ">
                        <input type="text" class="form-control" placeholder="{{'Resign Reason Name'| translate}}"
                            [value]="resignReason.getName()" disabled>
                    </div>
                </div>
                <!-- <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Resign Reason(Supervisor)"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6 col-md-3">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="{{'Resign Reason ID'| translate}}"
                                [ngModel]="resignReasonSupervisor.resignreasonId"
                                (ngModelChange)="modelResignReasonChange($event,'Supervisor')">
                            <div class="input-group-append">
                                <button type="button" class="btn btn-info"
                                    (click)="openResignReasonModal('Supervisor')">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group offset-3 offset-md-0 col-6 col-md-3 ">
                        <input type="text" class="form-control" placeholder="{{'Resign Reason Name'| translate}}"
                            [value]="resignReasonSupervisor.getName()" disabled>
                    </div>
                </div> -->
                <!-- <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Resign Reason(HR)"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6 col-md-3">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="{{'Resign Reason ID'| translate}}"
                                [ngModel]="resignReasonHR.resignreasonId"
                                (ngModelChange)="modelResignReasonChange($event,'HR')">
                            <div class="input-group-append">
                                <button type="button" class="btn btn-info" (click)="openResignReasonModal('HR')">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group offset-3 offset-md-0 col-6 col-md-3 ">
                        <input type="text" class="form-control" placeholder="{{'Resign Reason Name'| translate}}"
                            [value]="resignReasonHR.getName()" disabled>
                    </div>
                </div> -->
                <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Resign Reason"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6">
                        <textarea class="form-control" rows="2" style="resize: none;" [(ngModel)]="otherResignreason"
                            placeholder='{{"systemcode.note"| translate}}'></textarea>
                    </div>
                </div>
                <!-- <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Strong point of company"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6">
                        <textarea class="form-control" rows="2" style="resize: none;" [(ngModel)]="strongPoint"
                            placeholder='{{"systemcode.note"| translate}}'></textarea>
                    </div>
                </div>
                <div class="row g-2">
                    <div class="form-group col-3 text-center">
                        <label class="col-form-label font-weight-bold font-14">
                            {{"Weak point of company"| translate}}
                        </label>
                    </div>
                    <div class="form-group col-6">
                        <textarea class="form-control" rows="2" style="resize: none;" [(ngModel)]="weakPoint"
                            placeholder='{{"systemcode.note"| translate}}'></textarea>
                    </div>
                </div> -->




                <app-workflow-remark [wfid]="wfid"></app-workflow-remark>
            </div>
        </div>
    </div>
    <!-- ปิดรายละเอียดแบบฟอร์มการลาออก -->
    <div class="col-12">
        <div class="card mb-0">
            <div class="card-header bg-myhr">
                <h6 class="card-title">
                  รับทราบเงื่อนไขการลาออก (Acknowledge the conditions of resignation)
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12 col-xs-12 b-r">
                        <div class="form-group ">
                            <div class="custom-control custom-checkbox custom-control-inline">
                                <input type="checkbox" name="Attitudecheckbox"  class="custom-control-input"
                                    [value]="true" [(ngModel)]="checkConditions">
                                <label class="custom-control-label font-weight-normal" >
                                  ** ข้าพเจ้ามีหน้าที่จะต้องยื่นใบลาออกต่อบริษัทฯเป็นการล่วงหน้าไม่น้อยกว่าข้อตกลงตามสัญญาจ้าง และในกรณีข้าพเจ้าไม่ได้ทำการแจ้งลาออกล่วงหน้าตามเงื่อนไขข้อตกลงนั้น หากเกิดความเสียหายต่อบริษัทฯ ข้าพเจ้าทราบดีว่าอาจถูกบริษัทฯฟ้องบังคับทางศาลให้ชดใช้เงินแทนได้ **หากข้าพเจ้าได้รับหรือยืมอุปกรณ์ในการทำงาน ข้าพเจ้ามีหน้าที่จะต้องส่งคืนอุปกรณ์ในการทำงานให้แก่บริษัทฯ ภายในวันสุดท้ายของการทำงานให้ครบถ้วนและอยู่ในสภาพที่สมบูรณ์ มิฉะนั้นข้าพเจ้าจะมีความผิดทางวินัย และ/หรือ ความผิดอาญาโทษฐาน ยักยอกทรัพย์สินของบริษัทฯ **ในกรณีที่พนักงานเป็นสมาชิกกองทุนสำรองเลี้ยงชีพ พนักงานจะต้องแจ้งการลาออกล่วงหน้าอย่างน้อย 30 วัน จึงจะได้รับเงินสมทบกองทุนสำรองเลี้ยงชีพในส่วนของบริษัทฯ ตามกฎระเบียบหรือข้อบังคับของกองทุนสำรองเลี้ยงชีพ **ข้าพเจ้าทราบดีว่า ข้าพเจ้ามีหน้าที่ต้องปฏิบัติตามข้อตกลงตามสัญญาจ้าง และสัญญาใดๆที่ได้กระทำไว้กับบริษัทฯ แม้ว่าข้าพเจ้าพ้นสภาพจากการเป็นพนักงานไปแล้ว อาทิเช่น ไม่เปิดเผยความลับ ไม่ร่วมงานกับคู่แข่ง ฯลฯ ในกรณีฝ่าฝืนข้าพเจ้าทราบดีว่าบริษัทฯอาจฟ้อง บังคับทางศาลได้ (I have a duty to submit a letter of resignation to the Company in advance not less than the terms of the employment contract. and in the case that I did not notify resigned in advance according to the terms of that agreement If there is damage to the company 1
                                  am well aware that I may be sued by the company to force the court to reimburse the money on my behalf. ** If I receive or borrow work equipment I have a duty to return work equipment to the company. Within the last day of work to complete and in perfect condition. Otherwise;
                                  I will be subject to disciplinary action and/or criminal offense for misappropriation of the company's assets. ** In case the employee is a member of the provident fund. Employees must notify their resignation at least 30 days in advance in order to receive contributions to the provident fund on the part of the company. According to the rules or regulations of the provident fund ** I know that I have a duty to comply with the terms of the employment contract. and any contracts made with the Company Even though I have been retired from being an employee, such as not disclosing secrets Do not work with competitors, etc. In case of violation, I am well aware that the Company may sue for enforcement in court.)
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- หมายเหตุ -->
    <!-- <div class="col-12">
        <div class="card mb-0">
            <div class="card-header bg-myhr">
                <h6 class="card-title">
                    {{"systemcode.note" | translate}}
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12 col-xs-12 b-r">
                        <div class="form-group">
                            <small class="text-muted">
                                {{"systemcode.note"| translate}}
                            </small>
                            <textarea class="form-control" rows="2" style="resize: none;" [(ngModel)]="remark"
                                placeholder='{{"systemcode.note"| translate}}'></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!-- ปิดหมายเหตุ -->
    <!-- เอกสารอ้างอิง -->
    <div class="col-12" *ngIf="runno&&workflowData">
        <div class="card mb-0">
            <div class="card-header bg-myhr">
                <h6 class="card-title">
                    {{"Doc Reference" | translate}}
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 col-xs-12 b-r">
                        <div class="form-group">
                            <h6 class="cursor-myhr" (click)="openDocReference()">
                                {{getMessageTranslate(workflowData.thaiSubject,workflowData.engSubject)}}
                                [{{workflowData.doc_no}}]
                            </h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ปิดเอกสารอ้างอิง -->
    <!-- แนบไฟล์ -->
    <div class="col-12">
        <app-workflow-attach-file [nameFile]="nameFile" [timestampFile]="timestampFile"
            (changeTimestampFile)="timestampFile=$event"></app-workflow-attach-file>
    </div>
    <!-- ปิดแนบไฟล์ -->
    <!-- ยืนยัน -->
    <div class="card-body ">
        <div class="d-flex no-block align-items-center justify-content-center">
            <div class="action-form">
                <div class="form-group m-b-0 text-center">
                    <button class="btn btn-success waves-effect waves-light" [disabled]="!checkConditions" (click)="onSubmit()"><i
                            class=" fas fa-check"></i>
                        {{"Submit" | translate}}</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ปิดยืนยัน -->
</div>
